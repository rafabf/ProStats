(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(25),l=a.n(s),o=a(7),c=a(10),i=a(12),u=a(11),m=a(13),h=(a(74),a(75),a(31)),p=a(18),d=a(14),g=a(33),f=a(39),E=a(29),b=a(6),v=a(35),U=a.n(v),O=function e(){var t=this;Object(o.a)(this,e),this.signup=function(e){var a=e.username,n=e.password;return t.service.post("/signup",{username:a,password:n}).then((function(e){return e.data}))},this.login=function(e){var a=e.username,n=e.password;return t.service.post("/login",{username:a,password:n}).then((function(e){return e.data}))},this.logout=function(){return t.service.post("/logout").then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/loggedin").then((function(e){return e.data}))},this.service=U.a.create({baseURL:"".concat("https://prostats.herokuapp.com","/auth"),withCredentials:!0})},j=function e(){var t=this;Object(o.a)(this,e),this.handleUpload=function(e){return t.service.post("/upload",e).then((function(e){return e.data}))},this.service=U.a.create({baseURL:"".concat("https://prostats.herokuapp.com","/team"),withCredentials:!0})},S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(E.a)({},n,r))},a.postUser=function(){a.services.signup(a.state).then((function(e){a.setState({username:"",password:""}),a.props.setTheUser(e),a.props.history.push("/profile")})).catch((function(e){return console.log({err:e})}))},a.handleSubmit=function(e){e.preventDefault(),a.postUser()},a.handleFileUpload=function(e){var t=new FormData;t.append("imageUrl",e.target.files[0]),a.filesServices.handleUpload(t).then((function(e){a.setState({state:Object(f.a)({},a.state,{imageUrl:e.secure_url})})})).catch((function(e){return console.log(e)}))},a.filesServices=new j,a.state={username:"",password:"",imageUrl:String},a.services=new O,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("h1",null,"Registro de usuarios"),r.a.createElement(b.a,{onSubmit:this.handleSubmit},r.a.createElement(b.a.Group,null,r.a.createElement(b.a.Label,null,"Usuario"),r.a.createElement(b.a.Control,{type:"text",name:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(b.a.Group,null,r.a.createElement(b.a.Label,null,"Contrase\xf1a"),r.a.createElement(b.a.Control,{type:"password",name:"password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(b.a.Group,null,r.a.createElement(b.a.Label,null,"Imagen"),r.a.createElement(b.a.Control,{type:"file",name:"imageUrl",onChange:this.handleFileUpload})),r.a.createElement(d.a,{variant:"dark",type:"submit",onSubmit:this.handleSubmit},"Registrarse")))}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(E.a)({},n,r))},a.postUser=function(){a.services.login(a.state).then((function(e){a.setState({username:"",password:""}),a.props.setTheUser(e),a.props.history.push("/profile")})).catch((function(e){return console.log({err:e})}))},a.handleSubmit=function(e){e.preventDefault(),a.postUser()},a.state={username:"",password:""},a.services=new O,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("h1",null,"Inicio de sesi\xf3n"),r.a.createElement(b.a,{onSubmit:this.handleSubmit},r.a.createElement(b.a.Group,null,r.a.createElement(b.a.Label,null,"Usuario"),r.a.createElement(b.a.Control,{type:"text",name:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(b.a.Group,null,r.a.createElement(b.a.Label,null,"Contrase\xf1a"),r.a.createElement(b.a.Control,{type:"password",name:"password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(d.a,{variant:"dark",type:"submit",onSubmit:this.handleSubmit},"Inicio sesi\xf3n")))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).closeLogin=function(){return a.setState({showlogin:!1})},a.openLogin=function(){return a.setState({showlogin:!0})},a.closeSignup=function(){return a.setState({showsignup:!1})},a.openSignup=function(){return a.setState({showsignup:!0})},a.state={showlogin:!1,showsignup:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("h1",null,"\xbfQuieres unirte a nuestra liga y poder comparar tus Stats?"),r.a.createElement(d.a,{className:"mb-20",variant:"dark",onClick:this.openLogin},"iniciar sesion"),r.a.createElement(g.a,{show:this.state.showlogin,onHide:this.closeLogin},r.a.createElement(g.a.Body,null,r.a.createElement("h3",null,"INICIA SESI\xd3N"),r.a.createElement("hr",null),r.a.createElement(C,{setTheUser:this.props.setTheUser,closeLogin:this.closeLogin}))),r.a.createElement(d.a,{className:"mb-20",variant:"dark",onClick:this.openSignup},"Registrarse"),r.a.createElement(g.a,{show:this.state.showsignup,onHide:this.closeSignup},r.a.createElement(g.a.Body,null,r.a.createElement("h3",null,"\xa1registrate!"),r.a.createElement("hr",null),r.a.createElement(S,{setTheUser:this.props.setTheUser,closeModal:this.closeSignup}))))}}]),t}(n.Component),y=function e(){var t=this;Object(o.a)(this,e),this.getAllTeam=function(){return t.service.get("/getAllTeams").then((function(e){return e.data}))},this.getTeamDetails=function(e){return t.service.get("/getOneTeam/".concat(e)).then((function(e){return e.data}))},this.postTeam=function(e){return t.service.post("/new",e).then((function(e){return e.data}))},this.postMyTeam=function(e){return t.service.post("/join/".concat(e)).then((function(e){return e.data}))},this.getMyTeam=function(){return t.service.get("/getMyTeam").then((function(e){return e.data}))},this.service=U.a.create({baseURL:"".concat("https://prostats.herokuapp.com","/teams"),withCredentials:!0})},T=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).finishAction=function(){a.props.closeModal(),a.props.refreshList()},a.postTeam=function(){a.teamServices.postTeam(a.state.team).then((function(){return a.finishAction()})).catch((function(e){return console.log(e)}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState({team:Object(f.a)({},a.state.team,Object(E.a)({},n,r))})},a.handleSubmit=function(e){e.preventDefault(),a.postTeam()},a.handleFileUpload=function(e){var t=new FormData;t.append("imageUrl",e.target.files[0]),a.filesServices.handleUpload(t).then((function(e){console.log("Subida de archivo finalizada! La URL de Cloudinray es: ",e.secure_url),a.setState({team:Object(f.a)({},a.state.team,{imageUrl:e.secure_url})})})).catch((function(e){return console.log(e)}))},a.teamServices=new y,a.filesServices=new j,a.state={team:{name:String,history:String,imageUrl:String}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,{onSubmit:this.handleSubmit},r.a.createElement(b.a.Group,null,r.a.createElement(b.a.Label,null,"Nombre"),r.a.createElement(b.a.Control,{type:"text",name:"name",value:this.state.team.name,onChange:this.handleChange})),r.a.createElement(b.a.Group,null,r.a.createElement(b.a.Label,null,"Historia"),r.a.createElement(b.a.Control,{type:"text",name:"history",value:this.state.team.history,onChange:this.handleChange})),r.a.createElement(b.a.Group,null,r.a.createElement(b.a.Label,null,"Imagen"),r.a.createElement(b.a.Control,{type:"file",name:"imageUrl",onChange:this.handleFileUpload})),r.a.createElement(d.a,{variant:"dark",type:"submit"},"A\xf1adir equipo"))}}]),t}(n.Component),k=(a(96),a(34)),I=a(42),L=a(16),M=function(e){var t=e.name,a=e.imageUrl,n=e._id;return r.a.createElement(k.a,{md:4},r.a.createElement(I.a,{className:"card-rusa"},r.a.createElement(I.a.Img,{variant:"top",src:a}),r.a.createElement(I.a.Body,null,r.a.createElement(I.a.Title,null,t),r.a.createElement("hr",null),r.a.createElement(d.a,{as:"div",variant:"dark",size:"sm"},r.a.createElement(L.b,{to:"/detalles/".concat(n)},"unirse al equipo")))))},D=a(48),A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){return a.getAllTeam()},a.getAllTeam=function(){a.services.getAllTeam().then((function(e){return a.setState({team:e})})).catch((function(e){return console.log(e)}))},a.closeModal=function(){return a.setState({showmodal:!1})},a.openModal=function(){return a.setState({showmodal:!0})},a.state={team:[],showmodal:!1},a.services=new y,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("h1",null,"EQUIPOS"),this.props.loggedInUser&&r.a.createElement(d.a,{className:"mb-20",variant:"dark",onClick:this.openModal},"A\xf1adir equipo"),this.state.team.length?r.a.createElement(D.a,null,this.state.team.map((function(e){return r.a.createElement(M,Object.assign({key:e._id},e))}))):r.a.createElement("p",null,"CARGANDO..."),r.a.createElement(g.a,{show:this.state.showmodal,onHide:this.closeModal},r.a.createElement(g.a.Body,null,r.a.createElement("h3",null,"Nuevo Profesional"),r.a.createElement("hr",null),r.a.createElement(T,{closeModal:this.closeModal,refreshList:this.getAllTeam}))))}}]),t}(n.Component),N=(a(100),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){return a.getTeamDetails()},a.getTeamDetails=function(){a.services.getTeamDetails(a.props.match.params.id).then((function(e){return a.setState({team:e})})).catch((function(e){return console.log(e)}))},a.postMyTeam=function(){a.services.postMyTeam(a.props.match.params.id).then((function(e){return a.setState({team:e})})).catch((function(e){return console.log(e)}))},a.state={team:{}},a.services=new y,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{className:"coaster-details"},r.a.createElement(D.a,null,r.a.createElement(k.a,{md:{span:4,offset:1}},r.a.createElement("hr",null)),r.a.createElement(k.a,{md:{span:5,offset:1}})),r.a.createElement(d.a,{as:"div",variant:"dark",size:"sm"},r.a.createElement(L.b,{to:"/"},"Volver")),r.a.createElement(d.a,{as:"div",variant:"dark",size:"sm"},r.a.createElement("button",{onClick:this.postMyTeam},"unirse al equipo")))}}]),t}(n.Component)),F=a(28),G=a(22),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).logout=function(){a.services.logout().then((function(e){a.props.setTheUser(!1)})).catch((function(e){return console.log(e)}))},a.state={},a.services=new O,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.loggedInUser?r.a.createElement(r.a.Fragment,null," ",this.props.loggedInUser.username):r.a.createElement(r.a.Fragment,null,"Hola, invitad@");return this.props.loggedInUser?r.a.createElement(F.a,{className:"back-style",expand:"lg"},r.a.createElement(F.a.Brand,{href:"#home"},"E-ProStats"),r.a.createElement(F.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(F.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(G.a,{className:"ml-auto"},r.a.createElement(G.a.Link,{as:"div"}," ",r.a.createElement(L.b,{to:"/"},"Inicio")),r.a.createElement(G.a.Link,{as:"div"}," ",r.a.createElement(L.b,{to:"/profile"},"Perfil")),r.a.createElement(G.a.Link,{as:"div"}," ",r.a.createElement(L.b,{to:"/teams"},"Buscar equipos")),r.a.createElement(G.a.Link,{as:"div"}," ",r.a.createElement(L.b,{to:"/myTeam"},"Tu equipo")),r.a.createElement(G.a.Link,{onClick:this.logout},"Cerrar sesi\xf3n"),r.a.createElement(G.a.Link,{as:"small"},e)))):r.a.createElement(F.a,{bg:"dark",expand:"lg",variant:"dark"},r.a.createElement(F.a.Brand,{href:"#home"},"E-ProStats"),r.a.createElement(F.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(F.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(G.a,{className:"ml-auto"},r.a.createElement(G.a.Link,{as:"div"}," ",r.a.createElement(L.b,{to:"/"},"Inicio")),r.a.createElement(G.a.Link,{as:"small"},e))))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){return a.getMyTeam()},a.getMyTeam=function(){a.services.getMyTeam().then((function(e){return a.setState({team:e})})).catch((function(e){return console.log(e)}))},a.state={team:{}},a.services=new y,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("h1",null,"este es tu equipo"))}}]),t}(n.Component),R=function(e){return r.a.createElement("h1",null," ",e.loggedInUser.username," ")},q=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).componentDidUpdate=function(t,a){return console.log("El estado de App se ha actualizado:",e.state)},e.componentDidMount=function(){return e.fetchUser()},e.setTheUser=function(t){return e.setState({loggedInUser:t})},e.fetchUser=function(){e.services.loggedin().then((function(t){return e.setState({loggedInUser:t})})).catch((function(){return e.setState({loggedInUser:!1})}))},e.state={loggedInUser:!1},e.services=new O,e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{setTheUser:this.setTheUser,loggedInUser:this.state.loggedInUser}),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",render:function(){return r.a.createElement(w,{setTheUser:e.setTheUser,loggedInUser:e.state.loggedInUser})}}),r.a.createElement(h.b,{path:"/detalles/:id",render:function(e){return r.a.createElement(N,e)}}),r.a.createElement(h.b,{path:"/teams",render:function(){return r.a.createElement(A,{loggedInUser:e.state.loggedInUser})}}),r.a.createElement(h.b,{path:"/signup",render:function(){return r.a.createElement(S,{setTheUser:e.setTheUser})}}),r.a.createElement(h.b,{path:"/login",render:function(t){return r.a.createElement(C,Object.assign({setTheUser:e.setTheUser},t))}}),r.a.createElement(h.b,{path:"/profile",render:function(){return e.state.loggedInUser?r.a.createElement(R,{loggedInUser:e.state.loggedInUser}):r.a.createElement(h.a,{to:"/"})}}),r.a.createElement(h.b,{path:"/myteam",render:function(){return e.state.loggedInUser?r.a.createElement(B,{loggedInUser:e.state.loggedInUser}):r.a.createElement(h.a,{to:"/"})}})))}}]),t}(n.Component);l.a.render(r.a.createElement(L.a,null,r.a.createElement(q,null)),document.getElementById("root"))},69:function(e,t,a){e.exports=a(101)},75:function(e,t,a){},96:function(e,t,a){}},[[69,1,2]]]);
//# sourceMappingURL=main.3d4888a8.chunk.js.map