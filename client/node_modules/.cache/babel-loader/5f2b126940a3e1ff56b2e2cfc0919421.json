{"ast":null,"code":"import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport isFunction from 'lodash/isFunction';\nimport flatten from 'lodash/flatten';\nimport debounce from 'lodash/debounce';\nimport isEqual from 'lodash/isEqual';\nimport eq from 'lodash/eq';\nimport omit from 'lodash/omit';\nimport merge from 'lodash/merge';\nimport bindElementResize, { unbind as unbindElementResize } from 'element-resize-event';\nimport { getTranslateDOMPositionXY } from 'dom-lib/lib/transition/translateDOMPositionXY';\nimport { addStyle, getWidth, getHeight, WheelHandler, scrollLeft, scrollTop, on, getOffset } from 'dom-lib';\nimport Row from './Row';\nimport CellGroup from './CellGroup';\nimport Scrollbar from './Scrollbar';\nimport TableContext from './TableContext';\nimport { SCROLLBAR_WIDTH, CELL_PADDING_HEIGHT } from './constants';\nimport { getTotalByColumns, colSpanCells, getUnhandledProps, defaultClassPrefix, toggleClass, flattenData, prefix, requestAnimationTimeout, cancelAnimationTimeout, isRTL as _isRTL, findRowKeys, findAllParents, shouldShowRowByExpanded, resetLeftForCells } from './utils';\nvar SORT_TYPE = {\n  DESC: 'desc',\n  ASC: 'asc'\n};\n\nvar Table =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Table, _React$Component);\n\n  Table.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (props.data !== state.cacheData) {\n      return {\n        cacheData: props.data,\n        data: props.isTree ? flattenData(props.data) : props.data\n      };\n    }\n\n    return null;\n  };\n\n  function Table(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.translateDOMPositionXY = null;\n    _this.scrollListener = null;\n    _this.tableRef = void 0;\n    _this.scrollbarYRef = void 0;\n    _this.scrollbarXRef = void 0;\n    _this.tableBodyRef = void 0;\n    _this.affixHeaderWrapperRef = void 0;\n    _this.mouseAreaRef = void 0;\n    _this.headerWrapperRef = void 0;\n    _this.tableHeaderRef = void 0;\n    _this.wheelWrapperRef = void 0;\n    _this.tableRows = {};\n    _this.mounted = false;\n    _this.disableEventsTimeoutId = null;\n    _this.scrollY = 0;\n    _this.scrollX = 0;\n    _this.wheelHandler = void 0;\n    _this.minScrollY = void 0;\n    _this.minScrollX = void 0;\n    _this.mouseArea = void 0;\n    _this.touchX = void 0;\n    _this.touchY = void 0;\n    _this.wheelListener = void 0;\n    _this.touchStartListener = void 0;\n    _this.touchMoveListener = void 0;\n    _this._cacheCells = null;\n    _this._cacheChildrenSize = 0;\n    _this._visibleRows = [];\n\n    _this.listenWheel = function (deltaX, deltaY) {\n      var _this$scrollbarXRef$c, _this$scrollbarXRef$c2, _this$scrollbarYRef$c, _this$scrollbarYRef$c2;\n\n      _this.handleWheel(deltaX, deltaY);\n\n      (_this$scrollbarXRef$c = _this.scrollbarXRef.current) === null || _this$scrollbarXRef$c === void 0 ? void 0 : (_this$scrollbarXRef$c2 = _this$scrollbarXRef$c.onWheelScroll) === null || _this$scrollbarXRef$c2 === void 0 ? void 0 : _this$scrollbarXRef$c2.call(_this$scrollbarXRef$c, deltaX);\n      (_this$scrollbarYRef$c = _this.scrollbarYRef.current) === null || _this$scrollbarYRef$c === void 0 ? void 0 : (_this$scrollbarYRef$c2 = _this$scrollbarYRef$c.onWheelScroll) === null || _this$scrollbarYRef$c2 === void 0 ? void 0 : _this$scrollbarYRef$c2.call(_this$scrollbarYRef$c, deltaY);\n    };\n\n    _this.setAffixHeaderOffset = function () {\n      var affixHeader = _this.props.affixHeader;\n\n      if (affixHeader === 0 || affixHeader) {\n        _this.setState(function () {\n          return {\n            affixHeaderOffset: getOffset(_this.headerWrapperRef.current)\n          };\n        });\n      }\n    };\n\n    _this.updateAffixHeaderStatus = function () {\n      var affixHeader = _this.props.affixHeader;\n      var top = typeof affixHeader === 'number' ? affixHeader : 0;\n      var _this$state = _this.state,\n          affixHeaderOffset = _this$state.affixHeaderOffset,\n          contentHeight = _this$state.contentHeight;\n      var scrollY = window.scrollY || window.pageYOffset;\n      var fixedHeader = scrollY - (affixHeaderOffset.top - top) >= 0 && scrollY < affixHeaderOffset.top - top + contentHeight;\n\n      if (_this.affixHeaderWrapperRef.current) {\n        toggleClass(_this.affixHeaderWrapperRef.current, 'fixed', fixedHeader);\n      }\n    };\n\n    _this.handleSortColumn = function (dataKey) {\n      var _this$props$onSortCol, _this$props;\n\n      var sortType = _this.getSortType();\n\n      if (_this.props.sortColumn === dataKey) {\n        sortType = sortType === SORT_TYPE.ASC ? SORT_TYPE.DESC : SORT_TYPE.ASC;\n\n        _this.setState({\n          sortType: sortType\n        });\n      }\n\n      (_this$props$onSortCol = (_this$props = _this.props).onSortColumn) === null || _this$props$onSortCol === void 0 ? void 0 : _this$props$onSortCol.call(_this$props, dataKey, sortType);\n    };\n\n    _this.handleColumnResizeEnd = function (columnWidth, _cursorDelta, dataKey, index) {\n      var _this$setState;\n\n      _this._cacheCells = null;\n\n      _this.setState((_this$setState = {\n        isColumnResizing: false\n      }, _this$setState[dataKey + \"_\" + index + \"_width\"] = columnWidth, _this$setState));\n\n      addStyle(_this.mouseAreaRef.current, {\n        display: 'none'\n      });\n    };\n\n    _this.handleColumnResizeStart = function (width, left, fixed) {\n      _this.setState({\n        isColumnResizing: true\n      });\n\n      _this.handleColumnResizeMove(width, left, fixed);\n    };\n\n    _this.handleColumnResizeMove = function (width, left, fixed) {\n      var _addStyle;\n\n      var mouseAreaLeft = width + left;\n      var x = mouseAreaLeft;\n      var dir = 'left';\n\n      if (_this.isRTL()) {\n        mouseAreaLeft += _this.minScrollX + SCROLLBAR_WIDTH;\n        dir = 'right';\n      }\n\n      if (!fixed) {\n        x = mouseAreaLeft + (_this.isRTL() ? -_this.scrollX : _this.scrollX);\n      }\n\n      addStyle(_this.mouseAreaRef.current, (_addStyle = {\n        display: 'block'\n      }, _addStyle[dir] = x + \"px\", _addStyle));\n    };\n\n    _this.handleTreeToggle = function (rowKey, _rowIndex, rowData) {\n      var _this$props$onExpandC, _this$props2;\n\n      var expandedRowKeys = _this.getExpandedRowKeys();\n\n      var open = false;\n      var nextExpandedRowKeys = [];\n\n      for (var i = 0; i < expandedRowKeys.length; i++) {\n        var _key = expandedRowKeys[i];\n\n        if (_key === rowKey) {\n          open = true;\n        } else {\n          nextExpandedRowKeys.push(_key);\n        }\n      }\n\n      if (!open) {\n        nextExpandedRowKeys.push(rowKey);\n      }\n\n      _this.setState({\n        expandedRowKeys: nextExpandedRowKeys\n      });\n\n      (_this$props$onExpandC = (_this$props2 = _this.props).onExpandChange) === null || _this$props$onExpandC === void 0 ? void 0 : _this$props$onExpandC.call(_this$props2, !open, rowData);\n    };\n\n    _this.handleScrollX = function (delta) {\n      _this.handleWheel(delta, 0);\n    };\n\n    _this.handleScrollY = function (delta) {\n      _this.handleWheel(0, delta);\n    };\n\n    _this.handleWheel = function (deltaX, deltaY) {\n      var _this$props3 = _this.props,\n          onScroll = _this$props3.onScroll,\n          virtualized = _this$props3.virtualized;\n      var _this$state2 = _this.state,\n          contentWidth = _this$state2.contentWidth,\n          width = _this$state2.width;\n\n      if (!_this.tableRef.current) {\n        return;\n      }\n\n      var nextScrollX = contentWidth <= width ? 0 : _this.scrollX - deltaX;\n      var nextScrollY = _this.scrollY - deltaY;\n      _this.scrollY = Math.min(0, nextScrollY < _this.minScrollY ? _this.minScrollY : nextScrollY);\n      _this.scrollX = Math.min(0, nextScrollX < _this.minScrollX ? _this.minScrollX : nextScrollX);\n\n      _this.updatePosition();\n\n      onScroll === null || onScroll === void 0 ? void 0 : onScroll(_this.scrollX, _this.scrollY);\n\n      if (virtualized) {\n        _this.setState({\n          isScrolling: true,\n          scrollY: _this.scrollY\n        });\n\n        if (_this.disableEventsTimeoutId) {\n          cancelAnimationTimeout(_this.disableEventsTimeoutId);\n        }\n\n        _this.disableEventsTimeoutId = requestAnimationTimeout(_this.debounceScrollEndedCallback, 150);\n      }\n    };\n\n    _this.debounceScrollEndedCallback = function () {\n      _this.disableEventsTimeoutId = null;\n\n      _this.setState({\n        isScrolling: false\n      });\n    };\n\n    _this.handleTouchStart = function (event) {\n      var _this$props$onTouchSt, _this$props4;\n\n      if (event.touches) {\n        var _event$touches$ = event.touches[0],\n            pageX = _event$touches$.pageX,\n            pageY = _event$touches$.pageY;\n        _this.touchX = pageX;\n        _this.touchY = pageY;\n      }\n\n      (_this$props$onTouchSt = (_this$props4 = _this.props).onTouchStart) === null || _this$props$onTouchSt === void 0 ? void 0 : _this$props$onTouchSt.call(_this$props4, event);\n    };\n\n    _this.handleTouchMove = function (event) {\n      var _this$props$onTouchMo, _this$props5;\n\n      var autoHeight = _this.props.autoHeight;\n\n      if (event.touches) {\n        var _event$preventDefault, _this$scrollbarXRef$c3, _this$scrollbarXRef$c4, _this$scrollbarYRef$c3, _this$scrollbarYRef$c4;\n\n        var _event$touches$2 = event.touches[0],\n            pageX = _event$touches$2.pageX,\n            pageY = _event$touches$2.pageY;\n        var deltaX = _this.touchX - pageX;\n        var deltaY = autoHeight ? 0 : _this.touchY - pageY;\n\n        if (!_this.shouldHandleWheelY(deltaY) && !_this.shouldHandleWheelX(deltaX)) {\n          return;\n        }\n\n        (_event$preventDefault = event.preventDefault) === null || _event$preventDefault === void 0 ? void 0 : _event$preventDefault.call(event);\n\n        _this.handleWheel(deltaX, deltaY);\n\n        (_this$scrollbarXRef$c3 = _this.scrollbarXRef.current) === null || _this$scrollbarXRef$c3 === void 0 ? void 0 : (_this$scrollbarXRef$c4 = _this$scrollbarXRef$c3.onWheelScroll) === null || _this$scrollbarXRef$c4 === void 0 ? void 0 : _this$scrollbarXRef$c4.call(_this$scrollbarXRef$c3, deltaX);\n        (_this$scrollbarYRef$c3 = _this.scrollbarYRef.current) === null || _this$scrollbarYRef$c3 === void 0 ? void 0 : (_this$scrollbarYRef$c4 = _this$scrollbarYRef$c3.onWheelScroll) === null || _this$scrollbarYRef$c4 === void 0 ? void 0 : _this$scrollbarYRef$c4.call(_this$scrollbarYRef$c3, deltaY);\n        _this.touchX = pageX;\n        _this.touchY = pageY;\n      }\n\n      (_this$props$onTouchMo = (_this$props5 = _this.props).onTouchMove) === null || _this$props$onTouchMo === void 0 ? void 0 : _this$props$onTouchMo.call(_this$props5, event);\n    };\n\n    _this.handleBodyScroll = function (event) {\n      if (event.target !== _this.tableBodyRef.current) {\n        return;\n      }\n\n      var left = scrollLeft(event.target);\n      var top = scrollTop(event.target);\n\n      if (top === 0 && left === 0) {\n        return;\n      }\n\n      _this.listenWheel(left, top);\n\n      scrollLeft(event.target, 0);\n      scrollTop(event.target, 0);\n    };\n\n    _this.shouldHandleWheelX = function (delta) {\n      var _this$props6 = _this.props,\n          disabledScroll = _this$props6.disabledScroll,\n          loading = _this$props6.loading;\n\n      if (delta === 0 || disabledScroll || loading) {\n        return false;\n      }\n\n      return true;\n    };\n\n    _this.shouldHandleWheelY = function (delta) {\n      var _this$props7 = _this.props,\n          disabledScroll = _this$props7.disabledScroll,\n          loading = _this$props7.loading;\n\n      if (delta === 0 || disabledScroll || loading) {\n        return false;\n      }\n\n      return delta >= 0 && _this.scrollY > _this.minScrollY || delta < 0 && _this.scrollY < 0;\n    };\n\n    _this.addPrefix = function (name) {\n      return prefix(_this.props.classPrefix)(name);\n    };\n\n    _this.calculateTableWidth = function () {\n      var _this$tableRef;\n\n      var table = (_this$tableRef = _this.tableRef) === null || _this$tableRef === void 0 ? void 0 : _this$tableRef.current;\n      var width = _this.state.width;\n\n      if (table) {\n        var nextWidth = getWidth(table);\n\n        if (width !== nextWidth) {\n          var _this$scrollbarXRef, _this$scrollbarXRef$c5;\n\n          _this.scrollX = 0;\n          (_this$scrollbarXRef = _this.scrollbarXRef) === null || _this$scrollbarXRef === void 0 ? void 0 : (_this$scrollbarXRef$c5 = _this$scrollbarXRef.current) === null || _this$scrollbarXRef$c5 === void 0 ? void 0 : _this$scrollbarXRef$c5.resetScrollBarPosition();\n        }\n\n        _this._cacheCells = null;\n\n        _this.setState({\n          width: nextWidth\n        });\n      }\n\n      _this.setAffixHeaderOffset();\n    };\n\n    _this.scrollTop = function (top) {\n      var _this$scrollbarYRef, _this$scrollbarYRef$c5, _this$scrollbarYRef$c6;\n\n      if (top === void 0) {\n        top = 0;\n      }\n\n      _this.scrollY = -top;\n      (_this$scrollbarYRef = _this.scrollbarYRef) === null || _this$scrollbarYRef === void 0 ? void 0 : (_this$scrollbarYRef$c5 = _this$scrollbarYRef.current) === null || _this$scrollbarYRef$c5 === void 0 ? void 0 : (_this$scrollbarYRef$c6 = _this$scrollbarYRef$c5.resetScrollBarPosition) === null || _this$scrollbarYRef$c6 === void 0 ? void 0 : _this$scrollbarYRef$c6.call(_this$scrollbarYRef$c5, _this.scrollTopToScrollValue(top));\n\n      _this.updatePosition();\n    };\n\n    _this.scrollLeft = function (left) {\n      var _this$scrollbarXRef2, _this$scrollbarXRef2$, _this$scrollbarXRef2$2;\n\n      if (left === void 0) {\n        left = 0;\n      }\n\n      _this.scrollX = -left;\n      (_this$scrollbarXRef2 = _this.scrollbarXRef) === null || _this$scrollbarXRef2 === void 0 ? void 0 : (_this$scrollbarXRef2$ = _this$scrollbarXRef2.current) === null || _this$scrollbarXRef2$ === void 0 ? void 0 : (_this$scrollbarXRef2$2 = _this$scrollbarXRef2$.resetScrollBarPosition) === null || _this$scrollbarXRef2$2 === void 0 ? void 0 : _this$scrollbarXRef2$2.call(_this$scrollbarXRef2$, _this.scrollLeftToScrollValue(left));\n\n      _this.updatePosition();\n    };\n\n    _this.bindTableRowsRef = function (index) {\n      return function (ref) {\n        if (ref) {\n          _this.tableRows[index] = ref;\n        }\n      };\n    };\n\n    _this.bindRowClick = function (rowData) {\n      return function (event) {\n        var _this$props$onRowClic, _this$props8;\n\n        (_this$props$onRowClic = (_this$props8 = _this.props).onRowClick) === null || _this$props$onRowClic === void 0 ? void 0 : _this$props$onRowClic.call(_this$props8, rowData, event);\n      };\n    };\n\n    var _width = props.width,\n        data = props.data,\n        _rowKey = props.rowKey,\n        defaultExpandAllRows = props.defaultExpandAllRows,\n        renderRowExpanded = props.renderRowExpanded,\n        defaultExpandedRowKeys = props.defaultExpandedRowKeys,\n        _props$children = props.children,\n        children = _props$children === void 0 ? [] : _props$children,\n        isTree = props.isTree,\n        defaultSortType = props.defaultSortType;\n\n    var _expandedRowKeys = defaultExpandAllRows ? findRowKeys(data, _rowKey, isFunction(renderRowExpanded)) : defaultExpandedRowKeys || [];\n\n    var shouldFixedColumn = Array.from(children).some(function (child) {\n      return child && child.props && child.props.fixed;\n    });\n\n    if (isTree && !_rowKey) {\n      throw new Error('The `rowKey` is required when set isTree');\n    }\n\n    _this.state = {\n      expandedRowKeys: _expandedRowKeys,\n      shouldFixedColumn: shouldFixedColumn,\n      cacheData: data,\n      data: isTree ? flattenData(data) : data,\n      width: _width || 0,\n      columnWidth: 0,\n      dataKey: 0,\n      contentHeight: 0,\n      contentWidth: 0,\n      tableRowsMaxHeight: [],\n      sortType: defaultSortType,\n      scrollY: 0,\n      isScrolling: false,\n      fixedHeader: false\n    };\n    _this.scrollY = 0;\n    _this.scrollX = 0;\n    _this.wheelHandler = new WheelHandler(_this.listenWheel, _this.shouldHandleWheelX, _this.shouldHandleWheelY, false);\n    _this._cacheChildrenSize = flatten(children).length;\n    _this.translateDOMPositionXY = getTranslateDOMPositionXY({\n      enable3DTransform: props.translate3d\n    });\n    _this.tableRef = React.createRef();\n    _this.scrollbarYRef = React.createRef();\n    _this.scrollbarXRef = React.createRef();\n    _this.tableBodyRef = React.createRef();\n    _this.affixHeaderWrapperRef = React.createRef();\n    _this.mouseAreaRef = React.createRef();\n    _this.headerWrapperRef = React.createRef();\n    _this.wheelWrapperRef = React.createRef();\n    return _this;\n  }\n\n  var _proto = Table.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this$props9, _this$props9$bodyRef;\n\n    this.calculateTableWidth();\n    this.calculateTableContextHeight();\n    this.calculateRowMaxHeight();\n    this.setAffixHeaderOffset();\n    this.initPosition();\n    bindElementResize(this.tableRef.current, debounce(this.calculateTableWidth, 400));\n    var options = {\n      passive: false\n    };\n    var tableBody = this.tableBodyRef.current;\n\n    if (tableBody) {\n      this.wheelListener = on(tableBody, 'wheel', this.wheelHandler.onWheel, options);\n      this.touchStartListener = on(tableBody, 'touchstart', this.handleTouchStart, options);\n      this.touchMoveListener = on(tableBody, 'touchmove', this.handleTouchMove, options);\n    }\n\n    var affixHeader = this.props.affixHeader;\n\n    if (affixHeader === 0 || affixHeader) {\n      this.scrollListener = on(window, 'scroll', this.updateAffixHeaderStatus);\n    }\n\n    (_this$props9 = this.props) === null || _this$props9 === void 0 ? void 0 : (_this$props9$bodyRef = _this$props9.bodyRef) === null || _this$props9$bodyRef === void 0 ? void 0 : _this$props9$bodyRef.call(_this$props9, this.wheelWrapperRef.current);\n  };\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    var _cacheChildrenSize = flatten(nextProps.children || []).length;\n\n    if (_cacheChildrenSize !== this._cacheChildrenSize) {\n      this._cacheChildrenSize = _cacheChildrenSize;\n      this._cacheCells = null;\n    }\n\n    if (this.props.children !== nextProps.children || this.props.sortColumn !== nextProps.sortColumn || this.props.sortType !== nextProps.sortType) {\n      this._cacheCells = null;\n    }\n\n    return !eq(this.props, nextProps) || !isEqual(this.state, nextState);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    this.calculateTableContextHeight(prevProps);\n    this.calculateTableContentWidth(prevProps);\n    this.calculateRowMaxHeight();\n    this.updatePosition();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var _this$wheelListener, _this$touchStartListe, _this$touchMoveListen, _this$scrollListener;\n\n    this.wheelHandler = null;\n\n    if (this.tableRef.current) {\n      unbindElementResize(this.tableRef.current);\n    }\n\n    (_this$wheelListener = this.wheelListener) === null || _this$wheelListener === void 0 ? void 0 : _this$wheelListener.off();\n    (_this$touchStartListe = this.touchStartListener) === null || _this$touchStartListe === void 0 ? void 0 : _this$touchStartListe.off();\n    (_this$touchMoveListen = this.touchMoveListener) === null || _this$touchMoveListen === void 0 ? void 0 : _this$touchMoveListen.off();\n    (_this$scrollListener = this.scrollListener) === null || _this$scrollListener === void 0 ? void 0 : _this$scrollListener.off();\n  };\n\n  _proto.getExpandedRowKeys = function getExpandedRowKeys() {\n    var expandedRowKeys = this.props.expandedRowKeys;\n    return typeof expandedRowKeys === 'undefined' ? this.state.expandedRowKeys : expandedRowKeys;\n  };\n\n  _proto.getSortType = function getSortType() {\n    var sortType = this.props.sortType;\n    return typeof sortType === 'undefined' ? this.state.sortType : sortType;\n  };\n\n  _proto.getScrollCellGroups = function getScrollCellGroups() {\n    var _this$tableRef$curren;\n\n    return (_this$tableRef$curren = this.tableRef.current) === null || _this$tableRef$curren === void 0 ? void 0 : _this$tableRef$curren.querySelectorAll(\".\" + this.addPrefix('cell-group-scroll'));\n  };\n\n  _proto.getFixedLeftCellGroups = function getFixedLeftCellGroups() {\n    var _this$tableRef$curren2;\n\n    return (_this$tableRef$curren2 = this.tableRef.current) === null || _this$tableRef$curren2 === void 0 ? void 0 : _this$tableRef$curren2.querySelectorAll(\".\" + this.addPrefix('cell-group-fixed-left'));\n  };\n\n  _proto.getFixedRightCellGroups = function getFixedRightCellGroups() {\n    var _this$tableRef$curren3;\n\n    return (_this$tableRef$curren3 = this.tableRef.current) === null || _this$tableRef$curren3 === void 0 ? void 0 : _this$tableRef$curren3.querySelectorAll(\".\" + this.addPrefix('cell-group-fixed-right'));\n  };\n\n  _proto.isRTL = function isRTL() {\n    return this.props.rtl || _isRTL();\n  };\n\n  _proto.getRowHeight = function getRowHeight(rowData) {\n    if (rowData === void 0) {\n      rowData = {};\n    }\n\n    var rowHeight = this.props.rowHeight;\n    return typeof rowHeight === 'function' ? rowHeight(rowData) : rowHeight;\n  }\n  /**\n   * 获取表头高度\n   */\n  ;\n\n  _proto.getTableHeaderHeight = function getTableHeaderHeight() {\n    var _this$props10 = this.props,\n        headerHeight = _this$props10.headerHeight,\n        showHeader = _this$props10.showHeader;\n    return showHeader ? headerHeight : 0;\n  }\n  /**\n   * 获取 Table 需要渲染的高度\n   */\n  ;\n\n  _proto.getTableHeight = function getTableHeight() {\n    var contentHeight = this.state.contentHeight;\n    var _this$props11 = this.props,\n        minHeight = _this$props11.minHeight,\n        height = _this$props11.height,\n        autoHeight = _this$props11.autoHeight,\n        data = _this$props11.data;\n    var headerHeight = this.getTableHeaderHeight();\n\n    if (data.length === 0 && autoHeight) {\n      return height;\n    }\n\n    return autoHeight ? Math.max(headerHeight + contentHeight, minHeight) : height;\n  };\n\n  _proto.getCellDescriptor = function getCellDescriptor() {\n    var _this2 = this;\n\n    if (this._cacheCells) {\n      return this._cacheCells;\n    }\n\n    var hasCustomTreeCol = false;\n    var left = 0; // Cell left margin\n\n    var headerCells = []; // Table header cell\n\n    var bodyCells = []; // Table body cell\n\n    var children = this.props.children;\n\n    if (!children) {\n      this._cacheCells = {\n        headerCells: headerCells,\n        bodyCells: bodyCells,\n        hasCustomTreeCol: hasCustomTreeCol,\n        allColumnsWidth: left\n      };\n      return this._cacheCells;\n    }\n\n    var columns = Array.isArray(children) ? children.filter(function (col) {\n      return col;\n    }) : children;\n    var tableWidth = this.state.width;\n    var _this$props12 = this.props,\n        sortColumn = _this$props12.sortColumn,\n        rowHeight = _this$props12.rowHeight,\n        showHeader = _this$props12.showHeader;\n\n    var _getTotalByColumns = getTotalByColumns(columns),\n        totalFlexGrow = _getTotalByColumns.totalFlexGrow,\n        totalWidth = _getTotalByColumns.totalWidth;\n\n    var headerHeight = this.getTableHeaderHeight();\n    React.Children.forEach(columns, function (column, index) {\n      if (React.isValidElement(column)) {\n        var columnChildren = column.props.children;\n        var _column$props = column.props,\n            width = _column$props.width,\n            resizable = _column$props.resizable,\n            flexGrow = _column$props.flexGrow,\n            minWidth = _column$props.minWidth,\n            onResize = _column$props.onResize,\n            treeCol = _column$props.treeCol;\n\n        if (treeCol) {\n          hasCustomTreeCol = true;\n        }\n\n        if (resizable && flexGrow) {\n          console.warn(\"Cannot set 'resizable' and 'flexGrow' together in <Column>, column index: \" + index);\n        }\n\n        if (columnChildren.length !== 2) {\n          throw new Error(\"Component <HeaderCell> and <Cell> is required, column index: \" + index + \" \");\n        }\n\n        var nextWidth = _this2.state[columnChildren[1].props.dataKey + \"_\" + index + \"_width\"] || width || 0;\n\n        if (tableWidth && flexGrow && totalFlexGrow) {\n          nextWidth = Math.max((tableWidth - totalWidth) / totalFlexGrow * flexGrow, minWidth || 60);\n        }\n\n        var cellProps = _extends({}, omit(column.props, ['children']), {\n          left: left,\n          index: index,\n          headerHeight: headerHeight,\n          key: index,\n          width: nextWidth,\n          height: rowHeight,\n          firstColumn: index === 0,\n          lastColumn: index === columns.length - 1\n        });\n\n        if (showHeader && headerHeight) {\n          var headerCellProps = {\n            dataKey: columnChildren[1].props.dataKey,\n            isHeaderCell: true,\n            sortable: column.props.sortable,\n            onSortColumn: _this2.handleSortColumn,\n            sortType: _this2.getSortType(),\n            sortColumn: sortColumn,\n            flexGrow: flexGrow\n          };\n\n          if (resizable) {\n            merge(headerCellProps, {\n              onResize: onResize,\n              onColumnResizeEnd: _this2.handleColumnResizeEnd,\n              onColumnResizeStart: _this2.handleColumnResizeStart,\n              onColumnResizeMove: _this2.handleColumnResizeMove\n            });\n          }\n\n          headerCells.push(React.cloneElement(columnChildren[0], _extends({}, cellProps, {}, headerCellProps)));\n        }\n\n        bodyCells.push(React.cloneElement(columnChildren[1], cellProps));\n        left += nextWidth;\n      }\n    });\n    return this._cacheCells = {\n      headerCells: headerCells,\n      bodyCells: bodyCells,\n      allColumnsWidth: left,\n      hasCustomTreeCol: hasCustomTreeCol\n    };\n  };\n\n  _proto.initPosition = function initPosition() {\n    var _this3 = this;\n\n    if (this.isRTL()) {\n      setTimeout(function () {\n        var _this3$scrollbarXRef, _this3$scrollbarXRef$, _this3$scrollbarXRef$2;\n\n        var _this3$state = _this3.state,\n            contentWidth = _this3$state.contentWidth,\n            width = _this3$state.width;\n        _this3.scrollX = width - contentWidth - SCROLLBAR_WIDTH;\n\n        _this3.updatePosition();\n\n        (_this3$scrollbarXRef = _this3.scrollbarXRef) === null || _this3$scrollbarXRef === void 0 ? void 0 : (_this3$scrollbarXRef$ = _this3$scrollbarXRef.current) === null || _this3$scrollbarXRef$ === void 0 ? void 0 : (_this3$scrollbarXRef$2 = _this3$scrollbarXRef$.resetScrollBarPosition) === null || _this3$scrollbarXRef$2 === void 0 ? void 0 : _this3$scrollbarXRef$2.call(_this3$scrollbarXRef$, -_this3.scrollX);\n      }, 0);\n    }\n  };\n\n  _proto.updatePosition = function updatePosition() {\n    var _this$tableHeaderRef;\n    /**\n     * 当存在锁定列情况处理\n     */\n\n\n    if (this.state.shouldFixedColumn) {\n      this.updatePositionByFixedCell();\n    } else {\n      var _this$wheelWrapperRef, _this$headerWrapperRe;\n\n      var wheelStyle = {};\n      var headerStyle = {};\n      this.translateDOMPositionXY(wheelStyle, this.scrollX, this.scrollY);\n      this.translateDOMPositionXY(headerStyle, this.scrollX, 0);\n      ((_this$wheelWrapperRef = this.wheelWrapperRef) === null || _this$wheelWrapperRef === void 0 ? void 0 : _this$wheelWrapperRef.current) && addStyle(this.wheelWrapperRef.current, wheelStyle);\n      ((_this$headerWrapperRe = this.headerWrapperRef) === null || _this$headerWrapperRe === void 0 ? void 0 : _this$headerWrapperRe.current) && addStyle(this.headerWrapperRef.current, headerStyle);\n    }\n\n    if ((_this$tableHeaderRef = this.tableHeaderRef) === null || _this$tableHeaderRef === void 0 ? void 0 : _this$tableHeaderRef.current) {\n      toggleClass(this.tableHeaderRef.current, this.addPrefix('cell-group-shadow'), this.scrollY < 0);\n    }\n  };\n\n  _proto.updatePositionByFixedCell = function updatePositionByFixedCell() {\n    var _this$wheelWrapperRef2;\n\n    var wheelGroupStyle = {};\n    var wheelStyle = {};\n    var scrollGroups = this.getScrollCellGroups();\n    var fixedLeftGroups = this.getFixedLeftCellGroups();\n    var fixedRightGroups = this.getFixedRightCellGroups();\n    var _this$state3 = this.state,\n        contentWidth = _this$state3.contentWidth,\n        width = _this$state3.width;\n    this.translateDOMPositionXY(wheelGroupStyle, this.scrollX, 0);\n    this.translateDOMPositionXY(wheelStyle, 0, this.scrollY);\n    var scrollArrayGroups = Array.from(scrollGroups);\n\n    for (var i = 0; i < scrollArrayGroups.length; i++) {\n      var group = scrollArrayGroups[i];\n      addStyle(group, wheelGroupStyle);\n    }\n\n    if ((_this$wheelWrapperRef2 = this.wheelWrapperRef) === null || _this$wheelWrapperRef2 === void 0 ? void 0 : _this$wheelWrapperRef2.current) {\n      addStyle(this.wheelWrapperRef.current, wheelStyle);\n    }\n\n    var leftShadowClassName = this.addPrefix('cell-group-left-shadow');\n    var rightShadowClassName = this.addPrefix('cell-group-right-shadow');\n    var showLeftShadow = this.scrollX < 0;\n    var showRightShadow = width - contentWidth - SCROLLBAR_WIDTH !== this.scrollX;\n    toggleClass(fixedLeftGroups, leftShadowClassName, showLeftShadow);\n    toggleClass(fixedRightGroups, rightShadowClassName, showRightShadow);\n  };\n\n  _proto.shouldRenderExpandedRow = function shouldRenderExpandedRow(rowData) {\n    var _this$props13 = this.props,\n        rowKey = _this$props13.rowKey,\n        renderRowExpanded = _this$props13.renderRowExpanded,\n        isTree = _this$props13.isTree;\n    var expandedRowKeys = this.getExpandedRowKeys() || [];\n    return isFunction(renderRowExpanded) && !isTree && expandedRowKeys.some(function (key) {\n      return key === rowData[rowKey];\n    });\n  };\n\n  _proto.calculateRowMaxHeight = function calculateRowMaxHeight() {\n    var wordWrap = this.props.wordWrap;\n\n    if (wordWrap) {\n      var tableRowsMaxHeight = [];\n      var tableRows = Object.entries(this.tableRows);\n\n      for (var i = 0; i < tableRows.length; i++) {\n        var _tableRows$i = tableRows[i],\n            row = _tableRows$i[1];\n\n        if (row) {\n          var cells = row.querySelectorAll(\".\" + this.addPrefix('cell-wrap')) || [];\n          var cellArray = Array.from(cells);\n          var maxHeight = 0;\n\n          for (var j = 0; j < cellArray.length; j++) {\n            var cell = cellArray[j];\n            var h = getHeight(cell);\n            maxHeight = Math.max(maxHeight, h);\n          }\n\n          tableRowsMaxHeight.push(maxHeight);\n        }\n      }\n\n      this.setState({\n        tableRowsMaxHeight: tableRowsMaxHeight\n      });\n    }\n  };\n\n  _proto.calculateTableContentWidth = function calculateTableContentWidth(prevProps) {\n    var _this$tableRef2;\n\n    var table = (_this$tableRef2 = this.tableRef) === null || _this$tableRef2 === void 0 ? void 0 : _this$tableRef2.current;\n    var row = table.querySelector(\".\" + this.addPrefix('row') + \":not(.virtualized)\");\n    var contentWidth = row ? getWidth(row) : 0;\n    this.setState({\n      contentWidth: contentWidth\n    }); // 这里 -SCROLLBAR_WIDTH 是为了让滚动条不挡住内容部分\n\n    this.minScrollX = -(contentWidth - this.state.width) - SCROLLBAR_WIDTH;\n    /**\n     * 1.判断 Table 列数是否发生变化\n     * 2.判断 Table 内容区域是否宽度有变化\n     *\n     * 满足 1 和 2 则更新横向滚动条位置\n     */\n\n    if (flatten(this.props.children).length !== flatten(prevProps.children).length && this.state.contentWidth !== contentWidth) {\n      this.scrollLeft(0);\n    }\n  };\n\n  _proto.calculateTableContextHeight = function calculateTableContextHeight(prevProps) {\n    var table = this.tableRef.current;\n    var rows = table.querySelectorAll(\".\" + this.addPrefix('row')) || [];\n    var _this$props14 = this.props,\n        height = _this$props14.height,\n        autoHeight = _this$props14.autoHeight,\n        rowHeight = _this$props14.rowHeight;\n    var headerHeight = this.getTableHeaderHeight();\n    var contentHeight = rows.length ? Array.from(rows).map(function (row) {\n      return getHeight(row) || rowHeight;\n    }).reduce(function (x, y) {\n      return x + y;\n    }) : 0;\n    var nextContentHeight = contentHeight - headerHeight;\n    this.setState({\n      contentHeight: nextContentHeight\n    });\n\n    if (prevProps && ( // 当 data 更新，或者表格高度更新，则更新滚动条\n    prevProps.height !== height || prevProps.data !== this.props.data) && this.scrollY !== 0) {\n      this.scrollTop(Math.abs(this.scrollY));\n      this.updatePosition();\n    }\n\n    if (!autoHeight) {\n      // 这里 -SCROLLBAR_WIDTH 是为了让滚动条不挡住内容部分\n      this.minScrollY = -(contentHeight - height) - SCROLLBAR_WIDTH;\n    } // 如果内容区域的高度小于表格的高度，则重置 Y 坐标滚动条\n\n\n    if (contentHeight < height) {\n      this.scrollTop(0);\n    } // 如果 scrollTop 的值大于可以滚动的范围 ，则重置 Y 坐标滚动条\n    // 当 Table 为 virtualized 时， wheel 事件触发每次都会进入该逻辑， 避免在滚动到底部后滚动条重置, +SCROLLBAR_WIDTH\n\n\n    if (Math.abs(this.scrollY) + height - headerHeight > nextContentHeight + SCROLLBAR_WIDTH) {\n      this.scrollTop(this.scrollY);\n    }\n  };\n\n  _proto.scrollTopToScrollValue = function scrollTopToScrollValue(value) {\n    if (this.props.autoHeight) {\n      return 0;\n    }\n\n    var contentHeight = this.state.contentHeight;\n    var headerHeight = this.getTableHeaderHeight();\n    var height = this.getTableHeight();\n    return value / contentHeight * (height - headerHeight);\n  };\n\n  _proto.scrollLeftToScrollValue = function scrollLeftToScrollValue(value) {\n    var _this$state4 = this.state,\n        contentWidth = _this$state4.contentWidth,\n        width = _this$state4.width;\n    return value / contentWidth * width;\n  }\n  /**\n   * public method\n   * top 值是表格理论滚动位置的一个值，通过 top 计算出 scrollY 坐标值与滚动条位置的值\n   */\n  ;\n\n  _proto.renderRowData = function renderRowData(bodyCells, rowData, props, shouldRenderExpandedRow) {\n    var _this$props15 = this.props,\n        renderTreeToggle = _this$props15.renderTreeToggle,\n        rowKey = _this$props15.rowKey,\n        wordWrap = _this$props15.wordWrap,\n        isTree = _this$props15.isTree;\n    var hasChildren = isTree && rowData.children && Array.isArray(rowData.children);\n    var nextRowKey = typeof rowData[rowKey] !== 'undefined' ? rowData[rowKey] : props.key;\n\n    var rowProps = _extends({}, props, {\n      rowRef: this.bindTableRowsRef(props.key),\n      onClick: this.bindRowClick(rowData)\n    });\n\n    var expandedRowKeys = this.getExpandedRowKeys() || [];\n    var expanded = expandedRowKeys.some(function (key) {\n      return key === rowData[rowKey];\n    });\n    var cells = [];\n\n    for (var i = 0; i < bodyCells.length; i++) {\n      var cell = bodyCells[i];\n      cells.push(React.cloneElement(cell, {\n        hasChildren: hasChildren,\n        rowData: rowData,\n        wordWrap: wordWrap,\n        renderTreeToggle: renderTreeToggle,\n        height: props.height,\n        rowIndex: props.key,\n        depth: props.depth,\n        onTreeToggle: this.handleTreeToggle,\n        rowKey: nextRowKey,\n        expanded: expanded\n      }));\n    }\n\n    return this.renderRow(rowProps, cells, shouldRenderExpandedRow, rowData);\n  };\n\n  _proto.renderRow = function renderRow(props, cells, shouldRenderExpandedRow, rowData) {\n    var rowClassName = this.props.rowClassName;\n    var _this$state5 = this.state,\n        shouldFixedColumn = _this$state5.shouldFixedColumn,\n        width = _this$state5.width,\n        contentWidth = _this$state5.contentWidth;\n\n    if (typeof rowClassName === 'function') {\n      props.className = rowClassName(rowData);\n    } else {\n      props.className = rowClassName;\n    }\n\n    var rowStyles = {};\n    var rowRight = 0;\n\n    if (this.isRTL() && contentWidth > width) {\n      rowRight = width - contentWidth;\n      rowStyles.right = rowRight;\n    } // IF there are fixed columns, add a fixed group\n\n\n    if (shouldFixedColumn && contentWidth > width) {\n      var fixedLeftCells = [];\n      var fixedRightCells = [];\n      var scrollCells = [];\n      var fixedLeftCellGroupWidth = 0;\n      var fixedRightCellGroupWidth = 0;\n\n      for (var i = 0; i < cells.length; i++) {\n        var cell = cells[i];\n        var _cell$props = cell.props,\n            fixed = _cell$props.fixed,\n            _width2 = _cell$props.width;\n        var isFixedStart = fixed === 'left' || fixed === true;\n        var isFixedEnd = fixed === 'right';\n\n        if (this.isRTL()) {\n          isFixedStart = fixed === 'right';\n          isFixedEnd = fixed === 'left' || fixed === true;\n        }\n\n        if (isFixedStart) {\n          fixedLeftCells.push(cell);\n          fixedLeftCellGroupWidth += _width2;\n        } else if (isFixedEnd) {\n          fixedRightCells.push(cell);\n          fixedRightCellGroupWidth += _width2;\n        } else {\n          scrollCells.push(cell);\n        }\n      }\n\n      return React.createElement(Row, _extends({}, props, {\n        style: rowStyles\n      }), fixedLeftCellGroupWidth ? React.createElement(CellGroup, {\n        fixed: \"left\",\n        height: props.isHeaderRow ? props.headerHeight : props.height,\n        width: fixedLeftCellGroupWidth,\n        style: this.isRTL() ? {\n          right: width - fixedLeftCellGroupWidth - rowRight\n        } : null\n      }, colSpanCells(resetLeftForCells(fixedLeftCells))) : null, React.createElement(CellGroup, null, colSpanCells(scrollCells)), fixedRightCellGroupWidth ? React.createElement(CellGroup, {\n        fixed: \"right\",\n        style: this.isRTL() ? {\n          right: 0 - rowRight - SCROLLBAR_WIDTH\n        } : {\n          left: width - fixedRightCellGroupWidth - SCROLLBAR_WIDTH\n        },\n        height: props.isHeaderRow ? props.headerHeight : props.height,\n        width: fixedRightCellGroupWidth\n      }, colSpanCells(resetLeftForCells(fixedRightCells))) : null, shouldRenderExpandedRow && this.renderRowExpanded(rowData));\n    }\n\n    return React.createElement(Row, _extends({}, props, {\n      style: rowStyles\n    }), React.createElement(CellGroup, null, colSpanCells(cells)), shouldRenderExpandedRow && this.renderRowExpanded(rowData));\n  };\n\n  _proto.renderRowExpanded = function renderRowExpanded(rowData) {\n    var _this$props16 = this.props,\n        renderRowExpanded = _this$props16.renderRowExpanded,\n        rowExpandedHeight = _this$props16.rowExpandedHeight;\n    var styles = {\n      height: rowExpandedHeight\n    };\n\n    if (typeof renderRowExpanded === 'function') {\n      return React.createElement(\"div\", {\n        className: this.addPrefix('row-expanded'),\n        style: styles\n      }, renderRowExpanded(rowData));\n    }\n\n    return null;\n  };\n\n  _proto.renderMouseArea = function renderMouseArea() {\n    var headerHeight = this.getTableHeaderHeight();\n    var styles = {\n      height: this.getTableHeight()\n    };\n    var spanStyles = {\n      height: headerHeight - 1\n    };\n    return React.createElement(\"div\", {\n      ref: this.mouseAreaRef,\n      className: this.addPrefix('mouse-area'),\n      style: styles\n    }, React.createElement(\"span\", {\n      style: spanStyles\n    }));\n  };\n\n  _proto.renderTableHeader = function renderTableHeader(headerCells, rowWidth) {\n    var affixHeader = this.props.affixHeader;\n    var tableWidth = this.state.width;\n    var top = typeof affixHeader === 'number' ? affixHeader : 0;\n    var headerHeight = this.getTableHeaderHeight();\n    var rowProps = {\n      rowRef: this.tableHeaderRef,\n      width: rowWidth,\n      height: this.getRowHeight(),\n      headerHeight: headerHeight,\n      isHeaderRow: true,\n      top: 0\n    };\n    var fixedStyle = {\n      position: 'fixed',\n      overflow: 'hidden',\n      height: this.getTableHeaderHeight(),\n      width: tableWidth,\n      top: top\n    }; // Affix header\n\n    var header = React.createElement(\"div\", {\n      className: classNames(this.addPrefix('affix-header')),\n      style: fixedStyle,\n      ref: this.affixHeaderWrapperRef\n    }, this.renderRow(rowProps, headerCells));\n    return React.createElement(React.Fragment, null, (affixHeader === 0 || affixHeader) && header, React.createElement(\"div\", {\n      className: this.addPrefix('header-row-wrapper'),\n      ref: this.headerWrapperRef\n    }, this.renderRow(rowProps, headerCells)));\n  };\n\n  _proto.renderTableBody = function renderTableBody(bodyCells, rowWidth) {\n    var _this$props17 = this.props,\n        rowExpandedHeight = _this$props17.rowExpandedHeight,\n        renderRowExpanded = _this$props17.renderRowExpanded,\n        isTree = _this$props17.isTree,\n        rowKey = _this$props17.rowKey,\n        wordWrap = _this$props17.wordWrap,\n        virtualized = _this$props17.virtualized,\n        rowHeight = _this$props17.rowHeight;\n    var headerHeight = this.getTableHeaderHeight();\n    var _this$state6 = this.state,\n        tableRowsMaxHeight = _this$state6.tableRowsMaxHeight,\n        isScrolling = _this$state6.isScrolling,\n        data = _this$state6.data;\n    var height = this.getTableHeight();\n    var bodyHeight = height - headerHeight;\n    var bodyStyles = {\n      top: headerHeight,\n      height: bodyHeight\n    };\n    var contentHeight = 0;\n    var topHideHeight = 0;\n    var bottomHideHeight = 0;\n    this._visibleRows = [];\n\n    if (data) {\n      var top = 0; // Row position\n\n      var minTop = Math.abs(this.scrollY);\n      var maxTop = minTop + height + rowExpandedHeight;\n      var isCustomRowHeight = typeof rowHeight === 'function';\n      var isUncertainHeight = !!(renderRowExpanded || isCustomRowHeight || isTree);\n      /**\n      如果开启了 virtualized  同时 Table 中的的行高是可变的，\n      则需要循环遍历 data, 获取每一行的高度。\n      */\n\n      if (isUncertainHeight && virtualized || !virtualized) {\n        for (var index = 0; index < data.length; index++) {\n          var rowData = data[index];\n          var maxHeight = tableRowsMaxHeight[index];\n          var shouldRenderExpandedRow = this.shouldRenderExpandedRow(rowData);\n          var nextRowHeight = 0;\n          var depth = 0;\n\n          if (typeof rowHeight === 'function') {\n            nextRowHeight = rowHeight(rowData);\n          } else {\n            nextRowHeight = maxHeight ? maxHeight + CELL_PADDING_HEIGHT : rowHeight;\n\n            if (shouldRenderExpandedRow) {\n              nextRowHeight += rowExpandedHeight;\n            }\n          }\n\n          if (isTree) {\n            var parents = findAllParents(rowData, rowKey);\n            var expandedRowKeys = this.getExpandedRowKeys();\n            depth = parents.length; // 树节点如果被关闭，则不渲染\n\n            if (!shouldShowRowByExpanded(expandedRowKeys, parents)) {\n              continue;\n            }\n          }\n\n          contentHeight += nextRowHeight;\n          var rowProps = {\n            key: index,\n            top: top,\n            width: rowWidth,\n            depth: depth,\n            height: nextRowHeight\n          };\n          top += nextRowHeight;\n\n          if (virtualized && !wordWrap) {\n            if (top + nextRowHeight < minTop) {\n              topHideHeight += nextRowHeight;\n              continue;\n            } else if (top > maxTop) {\n              bottomHideHeight += nextRowHeight;\n              continue;\n            }\n          }\n\n          this._visibleRows.push(this.renderRowData(bodyCells, rowData, rowProps, shouldRenderExpandedRow));\n        }\n      } else {\n        /**\n        如果 Table 的行高是固定的，则直接通过行高与行数进行计算，\n        减少遍历所有 data 带来的性能消耗\n        */\n        var _nextRowHeight = this.getRowHeight();\n\n        var startIndex = Math.max(Math.floor(minTop / _nextRowHeight), 0);\n        var endIndex = Math.min(startIndex + Math.ceil(bodyHeight / _nextRowHeight), data.length);\n        contentHeight = data.length * _nextRowHeight;\n        topHideHeight = startIndex * _nextRowHeight;\n        bottomHideHeight = (data.length - endIndex) * _nextRowHeight;\n\n        for (var _index = startIndex; _index < endIndex; _index++) {\n          var _rowData = data[_index];\n          var _rowProps = {\n            key: _index,\n            top: _index * _nextRowHeight,\n            width: rowWidth,\n            height: _nextRowHeight\n          };\n\n          this._visibleRows.push(this.renderRowData(bodyCells, _rowData, _rowProps, false));\n        }\n      }\n    }\n\n    var wheelStyles = {\n      position: 'absolute',\n      height: contentHeight,\n      minHeight: height,\n      pointerEvents: isScrolling ? 'none' : undefined\n    };\n    var topRowStyles = {\n      height: topHideHeight\n    };\n    var bottomRowStyles = {\n      height: bottomHideHeight\n    };\n    return React.createElement(\"div\", {\n      ref: this.tableBodyRef,\n      className: this.addPrefix('body-row-wrapper'),\n      style: bodyStyles,\n      onScroll: this.handleBodyScroll\n    }, React.createElement(\"div\", {\n      style: wheelStyles,\n      className: this.addPrefix('body-wheel-area'),\n      ref: this.wheelWrapperRef\n    }, topHideHeight ? React.createElement(Row, {\n      style: topRowStyles,\n      className: \"virtualized\"\n    }) : null, this._visibleRows, bottomHideHeight ? React.createElement(Row, {\n      style: bottomRowStyles,\n      className: \"virtualized\"\n    }) : null), this.renderInfo(), this.renderScrollbar(), this.renderLoading());\n  };\n\n  _proto.renderInfo = function renderInfo() {\n    var _this$props18 = this.props,\n        locale = _this$props18.locale,\n        renderEmpty = _this$props18.renderEmpty,\n        loading = _this$props18.loading;\n\n    if (this._visibleRows.length || loading) {\n      return null;\n    }\n\n    var emptyMessage = React.createElement(\"div\", {\n      className: this.addPrefix('body-info')\n    }, locale.emptyMessage);\n    return renderEmpty ? renderEmpty(emptyMessage) : emptyMessage;\n  };\n\n  _proto.renderScrollbar = function renderScrollbar() {\n    var disabledScroll = this.props.disabledScroll;\n    var _this$state7 = this.state,\n        contentWidth = _this$state7.contentWidth,\n        contentHeight = _this$state7.contentHeight;\n    var headerHeight = this.getTableHeaderHeight();\n    var height = this.getTableHeight();\n\n    if (disabledScroll) {\n      return null;\n    }\n\n    return React.createElement(\"div\", null, React.createElement(Scrollbar, {\n      length: this.state.width,\n      onScroll: this.handleScrollX,\n      scrollLength: contentWidth,\n      ref: this.scrollbarXRef\n    }), React.createElement(Scrollbar, {\n      vertical: true,\n      length: height - headerHeight,\n      scrollLength: contentHeight,\n      onScroll: this.handleScrollY,\n      ref: this.scrollbarYRef\n    }));\n  }\n  /**\n   *  show loading\n   */\n  ;\n\n  _proto.renderLoading = function renderLoading() {\n    var _this$props19 = this.props,\n        locale = _this$props19.locale,\n        loading = _this$props19.loading,\n        loadAnimation = _this$props19.loadAnimation,\n        renderLoading = _this$props19.renderLoading;\n\n    if (!loadAnimation && !loading) {\n      return null;\n    }\n\n    var loadingElement = React.createElement(\"div\", {\n      className: this.addPrefix('loader-wrapper')\n    }, React.createElement(\"div\", {\n      className: this.addPrefix('loader')\n    }, React.createElement(\"i\", {\n      className: this.addPrefix('loader-icon')\n    }), React.createElement(\"span\", {\n      className: this.addPrefix('loader-text')\n    }, locale.loading)));\n    return renderLoading ? renderLoading(loadingElement) : loadingElement;\n  };\n\n  _proto.render = function render() {\n    var _classNames;\n\n    var _this$props20 = this.props,\n        children = _this$props20.children,\n        className = _this$props20.className,\n        _this$props20$width = _this$props20.width,\n        width = _this$props20$width === void 0 ? 0 : _this$props20$width,\n        style = _this$props20.style,\n        isTree = _this$props20.isTree,\n        hover = _this$props20.hover,\n        bordered = _this$props20.bordered,\n        cellBordered = _this$props20.cellBordered,\n        wordWrap = _this$props20.wordWrap,\n        classPrefix = _this$props20.classPrefix,\n        loading = _this$props20.loading,\n        showHeader = _this$props20.showHeader,\n        rest = _objectWithoutPropertiesLoose(_this$props20, [\"children\", \"className\", \"width\", \"style\", \"isTree\", \"hover\", \"bordered\", \"cellBordered\", \"wordWrap\", \"classPrefix\", \"loading\", \"showHeader\"]);\n\n    var isColumnResizing = this.state.isColumnResizing;\n\n    var _this$getCellDescript = this.getCellDescriptor(),\n        headerCells = _this$getCellDescript.headerCells,\n        bodyCells = _this$getCellDescript.bodyCells,\n        allColumnsWidth = _this$getCellDescript.allColumnsWidth,\n        hasCustomTreeCol = _this$getCellDescript.hasCustomTreeCol;\n\n    var rowWidth = allColumnsWidth > width ? allColumnsWidth : width;\n    var clesses = classNames(classPrefix, className, (_classNames = {}, _classNames[this.addPrefix('word-wrap')] = wordWrap, _classNames[this.addPrefix('treetable')] = isTree, _classNames[this.addPrefix('bordered')] = bordered, _classNames[this.addPrefix('cell-bordered')] = cellBordered, _classNames[this.addPrefix('column-resizing')] = isColumnResizing, _classNames[this.addPrefix('hover')] = hover, _classNames[this.addPrefix('loading')] = loading, _classNames));\n\n    var styles = _extends({\n      width: width || 'auto',\n      height: this.getTableHeight()\n    }, style);\n\n    var unhandled = getUnhandledProps(Table, rest);\n    return React.createElement(TableContext.Provider, {\n      value: {\n        translateDOMPositionXY: this.translateDOMPositionXY,\n        rtl: this.isRTL(),\n        hasCustomTreeCol: hasCustomTreeCol\n      }\n    }, React.createElement(\"div\", _extends({}, unhandled, {\n      className: clesses,\n      style: styles,\n      ref: this.tableRef\n    }), showHeader && this.renderTableHeader(headerCells, rowWidth), children && this.renderTableBody(bodyCells, rowWidth), showHeader && this.renderMouseArea()));\n  };\n\n  return Table;\n}(React.Component);\n\nTable.propTypes = {\n  width: PropTypes.number,\n  data: PropTypes.arrayOf(PropTypes.object),\n  height: PropTypes.number,\n  autoHeight: PropTypes.bool,\n  minHeight: PropTypes.number,\n  rowHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n  headerHeight: PropTypes.number,\n  rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  isTree: PropTypes.bool,\n  defaultExpandAllRows: PropTypes.bool,\n  defaultExpandedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n  expandedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n  renderTreeToggle: PropTypes.func,\n  renderRowExpanded: PropTypes.func,\n  rowExpandedHeight: PropTypes.number,\n  locale: PropTypes.object,\n  style: PropTypes.object,\n  sortColumn: PropTypes.string,\n  sortType: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  defaultSortType: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  disabledScroll: PropTypes.bool,\n  hover: PropTypes.bool,\n  loading: PropTypes.bool,\n  className: PropTypes.string,\n  classPrefix: PropTypes.string,\n  children: PropTypes.any,\n  bordered: PropTypes.bool,\n  cellBordered: PropTypes.bool,\n  wordWrap: PropTypes.bool,\n  onRowClick: PropTypes.func,\n  onScroll: PropTypes.func,\n  onSortColumn: PropTypes.func,\n  onExpandChange: PropTypes.func,\n  onTouchStart: PropTypes.func,\n  onTouchMove: PropTypes.func,\n  bodyRef: PropTypes.func,\n  loadAnimation: PropTypes.bool,\n  showHeader: PropTypes.bool,\n  rowClassName: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  virtualized: PropTypes.bool,\n  renderEmpty: PropTypes.func,\n  renderLoading: PropTypes.func,\n  translate3d: PropTypes.bool,\n  affixHeader: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n  rtl: PropTypes.bool\n};\nTable.defaultProps = {\n  classPrefix: defaultClassPrefix('table'),\n  data: [],\n  defaultSortType: SORT_TYPE.DESC,\n  height: 200,\n  rowHeight: 46,\n  headerHeight: 40,\n  minHeight: 0,\n  rowExpandedHeight: 100,\n  hover: true,\n  showHeader: true,\n  rowKey: 'key',\n  translate3d: true,\n  locale: {\n    emptyMessage: 'No data found',\n    loading: 'Loading...'\n  }\n};\nexport default Table;","map":{"version":3,"sources":["/Users/rafaelbollit/Desktop/proyecto 3/e-prostats/client/node_modules/rsuite-table/es/Table.js"],"names":["_objectWithoutPropertiesLoose","_extends","_inheritsLoose","React","PropTypes","classNames","isFunction","flatten","debounce","isEqual","eq","omit","merge","bindElementResize","unbind","unbindElementResize","getTranslateDOMPositionXY","addStyle","getWidth","getHeight","WheelHandler","scrollLeft","scrollTop","on","getOffset","Row","CellGroup","Scrollbar","TableContext","SCROLLBAR_WIDTH","CELL_PADDING_HEIGHT","getTotalByColumns","colSpanCells","getUnhandledProps","defaultClassPrefix","toggleClass","flattenData","prefix","requestAnimationTimeout","cancelAnimationTimeout","isRTL","_isRTL","findRowKeys","findAllParents","shouldShowRowByExpanded","resetLeftForCells","SORT_TYPE","DESC","ASC","Table","_React$Component","getDerivedStateFromProps","props","state","data","cacheData","isTree","_this","call","translateDOMPositionXY","scrollListener","tableRef","scrollbarYRef","scrollbarXRef","tableBodyRef","affixHeaderWrapperRef","mouseAreaRef","headerWrapperRef","tableHeaderRef","wheelWrapperRef","tableRows","mounted","disableEventsTimeoutId","scrollY","scrollX","wheelHandler","minScrollY","minScrollX","mouseArea","touchX","touchY","wheelListener","touchStartListener","touchMoveListener","_cacheCells","_cacheChildrenSize","_visibleRows","listenWheel","deltaX","deltaY","_this$scrollbarXRef$c","_this$scrollbarXRef$c2","_this$scrollbarYRef$c","_this$scrollbarYRef$c2","handleWheel","current","onWheelScroll","setAffixHeaderOffset","affixHeader","setState","affixHeaderOffset","updateAffixHeaderStatus","top","_this$state","contentHeight","window","pageYOffset","fixedHeader","handleSortColumn","dataKey","_this$props$onSortCol","_this$props","sortType","getSortType","sortColumn","onSortColumn","handleColumnResizeEnd","columnWidth","_cursorDelta","index","_this$setState","isColumnResizing","display","handleColumnResizeStart","width","left","fixed","handleColumnResizeMove","_addStyle","mouseAreaLeft","x","dir","handleTreeToggle","rowKey","_rowIndex","rowData","_this$props$onExpandC","_this$props2","expandedRowKeys","getExpandedRowKeys","open","nextExpandedRowKeys","i","length","_key","push","onExpandChange","handleScrollX","delta","handleScrollY","_this$props3","onScroll","virtualized","_this$state2","contentWidth","nextScrollX","nextScrollY","Math","min","updatePosition","isScrolling","debounceScrollEndedCallback","handleTouchStart","event","_this$props$onTouchSt","_this$props4","touches","_event$touches$","pageX","pageY","onTouchStart","handleTouchMove","_this$props$onTouchMo","_this$props5","autoHeight","_event$preventDefault","_this$scrollbarXRef$c3","_this$scrollbarXRef$c4","_this$scrollbarYRef$c3","_this$scrollbarYRef$c4","_event$touches$2","shouldHandleWheelY","shouldHandleWheelX","preventDefault","onTouchMove","handleBodyScroll","target","_this$props6","disabledScroll","loading","_this$props7","addPrefix","name","classPrefix","calculateTableWidth","_this$tableRef","table","nextWidth","_this$scrollbarXRef","_this$scrollbarXRef$c5","resetScrollBarPosition","_this$scrollbarYRef","_this$scrollbarYRef$c5","_this$scrollbarYRef$c6","scrollTopToScrollValue","_this$scrollbarXRef2","_this$scrollbarXRef2$","_this$scrollbarXRef2$2","scrollLeftToScrollValue","bindTableRowsRef","ref","bindRowClick","_this$props$onRowClic","_this$props8","onRowClick","_width","_rowKey","defaultExpandAllRows","renderRowExpanded","defaultExpandedRowKeys","_props$children","children","defaultSortType","_expandedRowKeys","shouldFixedColumn","Array","from","some","child","Error","tableRowsMaxHeight","enable3DTransform","translate3d","createRef","_proto","prototype","componentDidMount","_this$props9","_this$props9$bodyRef","calculateTableContextHeight","calculateRowMaxHeight","initPosition","options","passive","tableBody","onWheel","bodyRef","shouldComponentUpdate","nextProps","nextState","componentDidUpdate","prevProps","calculateTableContentWidth","componentWillUnmount","_this$wheelListener","_this$touchStartListe","_this$touchMoveListen","_this$scrollListener","off","getScrollCellGroups","_this$tableRef$curren","querySelectorAll","getFixedLeftCellGroups","_this$tableRef$curren2","getFixedRightCellGroups","_this$tableRef$curren3","rtl","getRowHeight","rowHeight","getTableHeaderHeight","_this$props10","headerHeight","showHeader","getTableHeight","_this$props11","minHeight","height","max","getCellDescriptor","_this2","hasCustomTreeCol","headerCells","bodyCells","allColumnsWidth","columns","isArray","filter","col","tableWidth","_this$props12","_getTotalByColumns","totalFlexGrow","totalWidth","Children","forEach","column","isValidElement","columnChildren","_column$props","resizable","flexGrow","minWidth","onResize","treeCol","console","warn","cellProps","key","firstColumn","lastColumn","headerCellProps","isHeaderCell","sortable","onColumnResizeEnd","onColumnResizeStart","onColumnResizeMove","cloneElement","_this3","setTimeout","_this3$scrollbarXRef","_this3$scrollbarXRef$","_this3$scrollbarXRef$2","_this3$state","_this$tableHeaderRef","updatePositionByFixedCell","_this$wheelWrapperRef","_this$headerWrapperRe","wheelStyle","headerStyle","_this$wheelWrapperRef2","wheelGroupStyle","scrollGroups","fixedLeftGroups","fixedRightGroups","_this$state3","scrollArrayGroups","group","leftShadowClassName","rightShadowClassName","showLeftShadow","showRightShadow","shouldRenderExpandedRow","_this$props13","wordWrap","Object","entries","_tableRows$i","row","cells","cellArray","maxHeight","j","cell","h","_this$tableRef2","querySelector","rows","_this$props14","map","reduce","y","nextContentHeight","abs","value","_this$state4","renderRowData","_this$props15","renderTreeToggle","hasChildren","nextRowKey","rowProps","rowRef","onClick","expanded","rowIndex","depth","onTreeToggle","renderRow","rowClassName","_this$state5","className","rowStyles","rowRight","right","fixedLeftCells","fixedRightCells","scrollCells","fixedLeftCellGroupWidth","fixedRightCellGroupWidth","_cell$props","_width2","isFixedStart","isFixedEnd","createElement","style","isHeaderRow","_this$props16","rowExpandedHeight","styles","renderMouseArea","spanStyles","renderTableHeader","rowWidth","fixedStyle","position","overflow","header","Fragment","renderTableBody","_this$props17","_this$state6","bodyHeight","bodyStyles","topHideHeight","bottomHideHeight","minTop","maxTop","isCustomRowHeight","isUncertainHeight","nextRowHeight","parents","_nextRowHeight","startIndex","floor","endIndex","ceil","_index","_rowData","_rowProps","wheelStyles","pointerEvents","undefined","topRowStyles","bottomRowStyles","renderInfo","renderScrollbar","renderLoading","_this$props18","locale","renderEmpty","emptyMessage","_this$state7","scrollLength","vertical","_this$props19","loadAnimation","loadingElement","render","_classNames","_this$props20","_this$props20$width","hover","bordered","cellBordered","rest","_this$getCellDescript","clesses","unhandled","Provider","Component","propTypes","number","arrayOf","object","bool","oneOfType","func","string","any","defaultProps"],"mappings":"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","sourcesContent":["import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport isFunction from 'lodash/isFunction';\nimport flatten from 'lodash/flatten';\nimport debounce from 'lodash/debounce';\nimport isEqual from 'lodash/isEqual';\nimport eq from 'lodash/eq';\nimport omit from 'lodash/omit';\nimport merge from 'lodash/merge';\nimport bindElementResize, { unbind as unbindElementResize } from 'element-resize-event';\nimport { getTranslateDOMPositionXY } from 'dom-lib/lib/transition/translateDOMPositionXY';\nimport { addStyle, getWidth, getHeight, WheelHandler, scrollLeft, scrollTop, on, getOffset } from 'dom-lib';\nimport Row from './Row';\nimport CellGroup from './CellGroup';\nimport Scrollbar from './Scrollbar';\nimport TableContext from './TableContext';\nimport { SCROLLBAR_WIDTH, CELL_PADDING_HEIGHT } from './constants';\nimport { getTotalByColumns, colSpanCells, getUnhandledProps, defaultClassPrefix, toggleClass, flattenData, prefix, requestAnimationTimeout, cancelAnimationTimeout, isRTL as _isRTL, findRowKeys, findAllParents, shouldShowRowByExpanded, resetLeftForCells } from './utils';\nvar SORT_TYPE = {\n  DESC: 'desc',\n  ASC: 'asc'\n};\n\nvar Table =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Table, _React$Component);\n\n  Table.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (props.data !== state.cacheData) {\n      return {\n        cacheData: props.data,\n        data: props.isTree ? flattenData(props.data) : props.data\n      };\n    }\n\n    return null;\n  };\n\n  function Table(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.translateDOMPositionXY = null;\n    _this.scrollListener = null;\n    _this.tableRef = void 0;\n    _this.scrollbarYRef = void 0;\n    _this.scrollbarXRef = void 0;\n    _this.tableBodyRef = void 0;\n    _this.affixHeaderWrapperRef = void 0;\n    _this.mouseAreaRef = void 0;\n    _this.headerWrapperRef = void 0;\n    _this.tableHeaderRef = void 0;\n    _this.wheelWrapperRef = void 0;\n    _this.tableRows = {};\n    _this.mounted = false;\n    _this.disableEventsTimeoutId = null;\n    _this.scrollY = 0;\n    _this.scrollX = 0;\n    _this.wheelHandler = void 0;\n    _this.minScrollY = void 0;\n    _this.minScrollX = void 0;\n    _this.mouseArea = void 0;\n    _this.touchX = void 0;\n    _this.touchY = void 0;\n    _this.wheelListener = void 0;\n    _this.touchStartListener = void 0;\n    _this.touchMoveListener = void 0;\n    _this._cacheCells = null;\n    _this._cacheChildrenSize = 0;\n    _this._visibleRows = [];\n\n    _this.listenWheel = function (deltaX, deltaY) {\n      var _this$scrollbarXRef$c, _this$scrollbarXRef$c2, _this$scrollbarYRef$c, _this$scrollbarYRef$c2;\n\n      _this.handleWheel(deltaX, deltaY);\n\n      (_this$scrollbarXRef$c = _this.scrollbarXRef.current) === null || _this$scrollbarXRef$c === void 0 ? void 0 : (_this$scrollbarXRef$c2 = _this$scrollbarXRef$c.onWheelScroll) === null || _this$scrollbarXRef$c2 === void 0 ? void 0 : _this$scrollbarXRef$c2.call(_this$scrollbarXRef$c, deltaX);\n      (_this$scrollbarYRef$c = _this.scrollbarYRef.current) === null || _this$scrollbarYRef$c === void 0 ? void 0 : (_this$scrollbarYRef$c2 = _this$scrollbarYRef$c.onWheelScroll) === null || _this$scrollbarYRef$c2 === void 0 ? void 0 : _this$scrollbarYRef$c2.call(_this$scrollbarYRef$c, deltaY);\n    };\n\n    _this.setAffixHeaderOffset = function () {\n      var affixHeader = _this.props.affixHeader;\n\n      if (affixHeader === 0 || affixHeader) {\n        _this.setState(function () {\n          return {\n            affixHeaderOffset: getOffset(_this.headerWrapperRef.current)\n          };\n        });\n      }\n    };\n\n    _this.updateAffixHeaderStatus = function () {\n      var affixHeader = _this.props.affixHeader;\n      var top = typeof affixHeader === 'number' ? affixHeader : 0;\n      var _this$state = _this.state,\n          affixHeaderOffset = _this$state.affixHeaderOffset,\n          contentHeight = _this$state.contentHeight;\n      var scrollY = window.scrollY || window.pageYOffset;\n      var fixedHeader = scrollY - (affixHeaderOffset.top - top) >= 0 && scrollY < affixHeaderOffset.top - top + contentHeight;\n\n      if (_this.affixHeaderWrapperRef.current) {\n        toggleClass(_this.affixHeaderWrapperRef.current, 'fixed', fixedHeader);\n      }\n    };\n\n    _this.handleSortColumn = function (dataKey) {\n      var _this$props$onSortCol, _this$props;\n\n      var sortType = _this.getSortType();\n\n      if (_this.props.sortColumn === dataKey) {\n        sortType = sortType === SORT_TYPE.ASC ? SORT_TYPE.DESC : SORT_TYPE.ASC;\n\n        _this.setState({\n          sortType: sortType\n        });\n      }\n\n      (_this$props$onSortCol = (_this$props = _this.props).onSortColumn) === null || _this$props$onSortCol === void 0 ? void 0 : _this$props$onSortCol.call(_this$props, dataKey, sortType);\n    };\n\n    _this.handleColumnResizeEnd = function (columnWidth, _cursorDelta, dataKey, index) {\n      var _this$setState;\n\n      _this._cacheCells = null;\n\n      _this.setState((_this$setState = {\n        isColumnResizing: false\n      }, _this$setState[dataKey + \"_\" + index + \"_width\"] = columnWidth, _this$setState));\n\n      addStyle(_this.mouseAreaRef.current, {\n        display: 'none'\n      });\n    };\n\n    _this.handleColumnResizeStart = function (width, left, fixed) {\n      _this.setState({\n        isColumnResizing: true\n      });\n\n      _this.handleColumnResizeMove(width, left, fixed);\n    };\n\n    _this.handleColumnResizeMove = function (width, left, fixed) {\n      var _addStyle;\n\n      var mouseAreaLeft = width + left;\n      var x = mouseAreaLeft;\n      var dir = 'left';\n\n      if (_this.isRTL()) {\n        mouseAreaLeft += _this.minScrollX + SCROLLBAR_WIDTH;\n        dir = 'right';\n      }\n\n      if (!fixed) {\n        x = mouseAreaLeft + (_this.isRTL() ? -_this.scrollX : _this.scrollX);\n      }\n\n      addStyle(_this.mouseAreaRef.current, (_addStyle = {\n        display: 'block'\n      }, _addStyle[dir] = x + \"px\", _addStyle));\n    };\n\n    _this.handleTreeToggle = function (rowKey, _rowIndex, rowData) {\n      var _this$props$onExpandC, _this$props2;\n\n      var expandedRowKeys = _this.getExpandedRowKeys();\n\n      var open = false;\n      var nextExpandedRowKeys = [];\n\n      for (var i = 0; i < expandedRowKeys.length; i++) {\n        var _key = expandedRowKeys[i];\n\n        if (_key === rowKey) {\n          open = true;\n        } else {\n          nextExpandedRowKeys.push(_key);\n        }\n      }\n\n      if (!open) {\n        nextExpandedRowKeys.push(rowKey);\n      }\n\n      _this.setState({\n        expandedRowKeys: nextExpandedRowKeys\n      });\n\n      (_this$props$onExpandC = (_this$props2 = _this.props).onExpandChange) === null || _this$props$onExpandC === void 0 ? void 0 : _this$props$onExpandC.call(_this$props2, !open, rowData);\n    };\n\n    _this.handleScrollX = function (delta) {\n      _this.handleWheel(delta, 0);\n    };\n\n    _this.handleScrollY = function (delta) {\n      _this.handleWheel(0, delta);\n    };\n\n    _this.handleWheel = function (deltaX, deltaY) {\n      var _this$props3 = _this.props,\n          onScroll = _this$props3.onScroll,\n          virtualized = _this$props3.virtualized;\n      var _this$state2 = _this.state,\n          contentWidth = _this$state2.contentWidth,\n          width = _this$state2.width;\n\n      if (!_this.tableRef.current) {\n        return;\n      }\n\n      var nextScrollX = contentWidth <= width ? 0 : _this.scrollX - deltaX;\n      var nextScrollY = _this.scrollY - deltaY;\n      _this.scrollY = Math.min(0, nextScrollY < _this.minScrollY ? _this.minScrollY : nextScrollY);\n      _this.scrollX = Math.min(0, nextScrollX < _this.minScrollX ? _this.minScrollX : nextScrollX);\n\n      _this.updatePosition();\n\n      onScroll === null || onScroll === void 0 ? void 0 : onScroll(_this.scrollX, _this.scrollY);\n\n      if (virtualized) {\n        _this.setState({\n          isScrolling: true,\n          scrollY: _this.scrollY\n        });\n\n        if (_this.disableEventsTimeoutId) {\n          cancelAnimationTimeout(_this.disableEventsTimeoutId);\n        }\n\n        _this.disableEventsTimeoutId = requestAnimationTimeout(_this.debounceScrollEndedCallback, 150);\n      }\n    };\n\n    _this.debounceScrollEndedCallback = function () {\n      _this.disableEventsTimeoutId = null;\n\n      _this.setState({\n        isScrolling: false\n      });\n    };\n\n    _this.handleTouchStart = function (event) {\n      var _this$props$onTouchSt, _this$props4;\n\n      if (event.touches) {\n        var _event$touches$ = event.touches[0],\n            pageX = _event$touches$.pageX,\n            pageY = _event$touches$.pageY;\n        _this.touchX = pageX;\n        _this.touchY = pageY;\n      }\n\n      (_this$props$onTouchSt = (_this$props4 = _this.props).onTouchStart) === null || _this$props$onTouchSt === void 0 ? void 0 : _this$props$onTouchSt.call(_this$props4, event);\n    };\n\n    _this.handleTouchMove = function (event) {\n      var _this$props$onTouchMo, _this$props5;\n\n      var autoHeight = _this.props.autoHeight;\n\n      if (event.touches) {\n        var _event$preventDefault, _this$scrollbarXRef$c3, _this$scrollbarXRef$c4, _this$scrollbarYRef$c3, _this$scrollbarYRef$c4;\n\n        var _event$touches$2 = event.touches[0],\n            pageX = _event$touches$2.pageX,\n            pageY = _event$touches$2.pageY;\n        var deltaX = _this.touchX - pageX;\n        var deltaY = autoHeight ? 0 : _this.touchY - pageY;\n\n        if (!_this.shouldHandleWheelY(deltaY) && !_this.shouldHandleWheelX(deltaX)) {\n          return;\n        }\n\n        (_event$preventDefault = event.preventDefault) === null || _event$preventDefault === void 0 ? void 0 : _event$preventDefault.call(event);\n\n        _this.handleWheel(deltaX, deltaY);\n\n        (_this$scrollbarXRef$c3 = _this.scrollbarXRef.current) === null || _this$scrollbarXRef$c3 === void 0 ? void 0 : (_this$scrollbarXRef$c4 = _this$scrollbarXRef$c3.onWheelScroll) === null || _this$scrollbarXRef$c4 === void 0 ? void 0 : _this$scrollbarXRef$c4.call(_this$scrollbarXRef$c3, deltaX);\n        (_this$scrollbarYRef$c3 = _this.scrollbarYRef.current) === null || _this$scrollbarYRef$c3 === void 0 ? void 0 : (_this$scrollbarYRef$c4 = _this$scrollbarYRef$c3.onWheelScroll) === null || _this$scrollbarYRef$c4 === void 0 ? void 0 : _this$scrollbarYRef$c4.call(_this$scrollbarYRef$c3, deltaY);\n        _this.touchX = pageX;\n        _this.touchY = pageY;\n      }\n\n      (_this$props$onTouchMo = (_this$props5 = _this.props).onTouchMove) === null || _this$props$onTouchMo === void 0 ? void 0 : _this$props$onTouchMo.call(_this$props5, event);\n    };\n\n    _this.handleBodyScroll = function (event) {\n      if (event.target !== _this.tableBodyRef.current) {\n        return;\n      }\n\n      var left = scrollLeft(event.target);\n      var top = scrollTop(event.target);\n\n      if (top === 0 && left === 0) {\n        return;\n      }\n\n      _this.listenWheel(left, top);\n\n      scrollLeft(event.target, 0);\n      scrollTop(event.target, 0);\n    };\n\n    _this.shouldHandleWheelX = function (delta) {\n      var _this$props6 = _this.props,\n          disabledScroll = _this$props6.disabledScroll,\n          loading = _this$props6.loading;\n\n      if (delta === 0 || disabledScroll || loading) {\n        return false;\n      }\n\n      return true;\n    };\n\n    _this.shouldHandleWheelY = function (delta) {\n      var _this$props7 = _this.props,\n          disabledScroll = _this$props7.disabledScroll,\n          loading = _this$props7.loading;\n\n      if (delta === 0 || disabledScroll || loading) {\n        return false;\n      }\n\n      return delta >= 0 && _this.scrollY > _this.minScrollY || delta < 0 && _this.scrollY < 0;\n    };\n\n    _this.addPrefix = function (name) {\n      return prefix(_this.props.classPrefix)(name);\n    };\n\n    _this.calculateTableWidth = function () {\n      var _this$tableRef;\n\n      var table = (_this$tableRef = _this.tableRef) === null || _this$tableRef === void 0 ? void 0 : _this$tableRef.current;\n      var width = _this.state.width;\n\n      if (table) {\n        var nextWidth = getWidth(table);\n\n        if (width !== nextWidth) {\n          var _this$scrollbarXRef, _this$scrollbarXRef$c5;\n\n          _this.scrollX = 0;\n          (_this$scrollbarXRef = _this.scrollbarXRef) === null || _this$scrollbarXRef === void 0 ? void 0 : (_this$scrollbarXRef$c5 = _this$scrollbarXRef.current) === null || _this$scrollbarXRef$c5 === void 0 ? void 0 : _this$scrollbarXRef$c5.resetScrollBarPosition();\n        }\n\n        _this._cacheCells = null;\n\n        _this.setState({\n          width: nextWidth\n        });\n      }\n\n      _this.setAffixHeaderOffset();\n    };\n\n    _this.scrollTop = function (top) {\n      var _this$scrollbarYRef, _this$scrollbarYRef$c5, _this$scrollbarYRef$c6;\n\n      if (top === void 0) {\n        top = 0;\n      }\n\n      _this.scrollY = -top;\n      (_this$scrollbarYRef = _this.scrollbarYRef) === null || _this$scrollbarYRef === void 0 ? void 0 : (_this$scrollbarYRef$c5 = _this$scrollbarYRef.current) === null || _this$scrollbarYRef$c5 === void 0 ? void 0 : (_this$scrollbarYRef$c6 = _this$scrollbarYRef$c5.resetScrollBarPosition) === null || _this$scrollbarYRef$c6 === void 0 ? void 0 : _this$scrollbarYRef$c6.call(_this$scrollbarYRef$c5, _this.scrollTopToScrollValue(top));\n\n      _this.updatePosition();\n    };\n\n    _this.scrollLeft = function (left) {\n      var _this$scrollbarXRef2, _this$scrollbarXRef2$, _this$scrollbarXRef2$2;\n\n      if (left === void 0) {\n        left = 0;\n      }\n\n      _this.scrollX = -left;\n      (_this$scrollbarXRef2 = _this.scrollbarXRef) === null || _this$scrollbarXRef2 === void 0 ? void 0 : (_this$scrollbarXRef2$ = _this$scrollbarXRef2.current) === null || _this$scrollbarXRef2$ === void 0 ? void 0 : (_this$scrollbarXRef2$2 = _this$scrollbarXRef2$.resetScrollBarPosition) === null || _this$scrollbarXRef2$2 === void 0 ? void 0 : _this$scrollbarXRef2$2.call(_this$scrollbarXRef2$, _this.scrollLeftToScrollValue(left));\n\n      _this.updatePosition();\n    };\n\n    _this.bindTableRowsRef = function (index) {\n      return function (ref) {\n        if (ref) {\n          _this.tableRows[index] = ref;\n        }\n      };\n    };\n\n    _this.bindRowClick = function (rowData) {\n      return function (event) {\n        var _this$props$onRowClic, _this$props8;\n\n        (_this$props$onRowClic = (_this$props8 = _this.props).onRowClick) === null || _this$props$onRowClic === void 0 ? void 0 : _this$props$onRowClic.call(_this$props8, rowData, event);\n      };\n    };\n\n    var _width = props.width,\n        data = props.data,\n        _rowKey = props.rowKey,\n        defaultExpandAllRows = props.defaultExpandAllRows,\n        renderRowExpanded = props.renderRowExpanded,\n        defaultExpandedRowKeys = props.defaultExpandedRowKeys,\n        _props$children = props.children,\n        children = _props$children === void 0 ? [] : _props$children,\n        isTree = props.isTree,\n        defaultSortType = props.defaultSortType;\n\n    var _expandedRowKeys = defaultExpandAllRows ? findRowKeys(data, _rowKey, isFunction(renderRowExpanded)) : defaultExpandedRowKeys || [];\n\n    var shouldFixedColumn = Array.from(children).some(function (child) {\n      return child && child.props && child.props.fixed;\n    });\n\n    if (isTree && !_rowKey) {\n      throw new Error('The `rowKey` is required when set isTree');\n    }\n\n    _this.state = {\n      expandedRowKeys: _expandedRowKeys,\n      shouldFixedColumn: shouldFixedColumn,\n      cacheData: data,\n      data: isTree ? flattenData(data) : data,\n      width: _width || 0,\n      columnWidth: 0,\n      dataKey: 0,\n      contentHeight: 0,\n      contentWidth: 0,\n      tableRowsMaxHeight: [],\n      sortType: defaultSortType,\n      scrollY: 0,\n      isScrolling: false,\n      fixedHeader: false\n    };\n    _this.scrollY = 0;\n    _this.scrollX = 0;\n    _this.wheelHandler = new WheelHandler(_this.listenWheel, _this.shouldHandleWheelX, _this.shouldHandleWheelY, false);\n    _this._cacheChildrenSize = flatten(children).length;\n    _this.translateDOMPositionXY = getTranslateDOMPositionXY({\n      enable3DTransform: props.translate3d\n    });\n    _this.tableRef = React.createRef();\n    _this.scrollbarYRef = React.createRef();\n    _this.scrollbarXRef = React.createRef();\n    _this.tableBodyRef = React.createRef();\n    _this.affixHeaderWrapperRef = React.createRef();\n    _this.mouseAreaRef = React.createRef();\n    _this.headerWrapperRef = React.createRef();\n    _this.wheelWrapperRef = React.createRef();\n    return _this;\n  }\n\n  var _proto = Table.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this$props9, _this$props9$bodyRef;\n\n    this.calculateTableWidth();\n    this.calculateTableContextHeight();\n    this.calculateRowMaxHeight();\n    this.setAffixHeaderOffset();\n    this.initPosition();\n    bindElementResize(this.tableRef.current, debounce(this.calculateTableWidth, 400));\n    var options = {\n      passive: false\n    };\n    var tableBody = this.tableBodyRef.current;\n\n    if (tableBody) {\n      this.wheelListener = on(tableBody, 'wheel', this.wheelHandler.onWheel, options);\n      this.touchStartListener = on(tableBody, 'touchstart', this.handleTouchStart, options);\n      this.touchMoveListener = on(tableBody, 'touchmove', this.handleTouchMove, options);\n    }\n\n    var affixHeader = this.props.affixHeader;\n\n    if (affixHeader === 0 || affixHeader) {\n      this.scrollListener = on(window, 'scroll', this.updateAffixHeaderStatus);\n    }\n\n    (_this$props9 = this.props) === null || _this$props9 === void 0 ? void 0 : (_this$props9$bodyRef = _this$props9.bodyRef) === null || _this$props9$bodyRef === void 0 ? void 0 : _this$props9$bodyRef.call(_this$props9, this.wheelWrapperRef.current);\n  };\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    var _cacheChildrenSize = flatten(nextProps.children || []).length;\n\n    if (_cacheChildrenSize !== this._cacheChildrenSize) {\n      this._cacheChildrenSize = _cacheChildrenSize;\n      this._cacheCells = null;\n    }\n\n    if (this.props.children !== nextProps.children || this.props.sortColumn !== nextProps.sortColumn || this.props.sortType !== nextProps.sortType) {\n      this._cacheCells = null;\n    }\n\n    return !eq(this.props, nextProps) || !isEqual(this.state, nextState);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    this.calculateTableContextHeight(prevProps);\n    this.calculateTableContentWidth(prevProps);\n    this.calculateRowMaxHeight();\n    this.updatePosition();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var _this$wheelListener, _this$touchStartListe, _this$touchMoveListen, _this$scrollListener;\n\n    this.wheelHandler = null;\n\n    if (this.tableRef.current) {\n      unbindElementResize(this.tableRef.current);\n    }\n\n    (_this$wheelListener = this.wheelListener) === null || _this$wheelListener === void 0 ? void 0 : _this$wheelListener.off();\n    (_this$touchStartListe = this.touchStartListener) === null || _this$touchStartListe === void 0 ? void 0 : _this$touchStartListe.off();\n    (_this$touchMoveListen = this.touchMoveListener) === null || _this$touchMoveListen === void 0 ? void 0 : _this$touchMoveListen.off();\n    (_this$scrollListener = this.scrollListener) === null || _this$scrollListener === void 0 ? void 0 : _this$scrollListener.off();\n  };\n\n  _proto.getExpandedRowKeys = function getExpandedRowKeys() {\n    var expandedRowKeys = this.props.expandedRowKeys;\n    return typeof expandedRowKeys === 'undefined' ? this.state.expandedRowKeys : expandedRowKeys;\n  };\n\n  _proto.getSortType = function getSortType() {\n    var sortType = this.props.sortType;\n    return typeof sortType === 'undefined' ? this.state.sortType : sortType;\n  };\n\n  _proto.getScrollCellGroups = function getScrollCellGroups() {\n    var _this$tableRef$curren;\n\n    return (_this$tableRef$curren = this.tableRef.current) === null || _this$tableRef$curren === void 0 ? void 0 : _this$tableRef$curren.querySelectorAll(\".\" + this.addPrefix('cell-group-scroll'));\n  };\n\n  _proto.getFixedLeftCellGroups = function getFixedLeftCellGroups() {\n    var _this$tableRef$curren2;\n\n    return (_this$tableRef$curren2 = this.tableRef.current) === null || _this$tableRef$curren2 === void 0 ? void 0 : _this$tableRef$curren2.querySelectorAll(\".\" + this.addPrefix('cell-group-fixed-left'));\n  };\n\n  _proto.getFixedRightCellGroups = function getFixedRightCellGroups() {\n    var _this$tableRef$curren3;\n\n    return (_this$tableRef$curren3 = this.tableRef.current) === null || _this$tableRef$curren3 === void 0 ? void 0 : _this$tableRef$curren3.querySelectorAll(\".\" + this.addPrefix('cell-group-fixed-right'));\n  };\n\n  _proto.isRTL = function isRTL() {\n    return this.props.rtl || _isRTL();\n  };\n\n  _proto.getRowHeight = function getRowHeight(rowData) {\n    if (rowData === void 0) {\n      rowData = {};\n    }\n\n    var rowHeight = this.props.rowHeight;\n    return typeof rowHeight === 'function' ? rowHeight(rowData) : rowHeight;\n  }\n  /**\n   * 获取表头高度\n   */\n  ;\n\n  _proto.getTableHeaderHeight = function getTableHeaderHeight() {\n    var _this$props10 = this.props,\n        headerHeight = _this$props10.headerHeight,\n        showHeader = _this$props10.showHeader;\n    return showHeader ? headerHeight : 0;\n  }\n  /**\n   * 获取 Table 需要渲染的高度\n   */\n  ;\n\n  _proto.getTableHeight = function getTableHeight() {\n    var contentHeight = this.state.contentHeight;\n    var _this$props11 = this.props,\n        minHeight = _this$props11.minHeight,\n        height = _this$props11.height,\n        autoHeight = _this$props11.autoHeight,\n        data = _this$props11.data;\n    var headerHeight = this.getTableHeaderHeight();\n\n    if (data.length === 0 && autoHeight) {\n      return height;\n    }\n\n    return autoHeight ? Math.max(headerHeight + contentHeight, minHeight) : height;\n  };\n\n  _proto.getCellDescriptor = function getCellDescriptor() {\n    var _this2 = this;\n\n    if (this._cacheCells) {\n      return this._cacheCells;\n    }\n\n    var hasCustomTreeCol = false;\n    var left = 0; // Cell left margin\n\n    var headerCells = []; // Table header cell\n\n    var bodyCells = []; // Table body cell\n\n    var children = this.props.children;\n\n    if (!children) {\n      this._cacheCells = {\n        headerCells: headerCells,\n        bodyCells: bodyCells,\n        hasCustomTreeCol: hasCustomTreeCol,\n        allColumnsWidth: left\n      };\n      return this._cacheCells;\n    }\n\n    var columns = Array.isArray(children) ? children.filter(function (col) {\n      return col;\n    }) : children;\n    var tableWidth = this.state.width;\n    var _this$props12 = this.props,\n        sortColumn = _this$props12.sortColumn,\n        rowHeight = _this$props12.rowHeight,\n        showHeader = _this$props12.showHeader;\n\n    var _getTotalByColumns = getTotalByColumns(columns),\n        totalFlexGrow = _getTotalByColumns.totalFlexGrow,\n        totalWidth = _getTotalByColumns.totalWidth;\n\n    var headerHeight = this.getTableHeaderHeight();\n    React.Children.forEach(columns, function (column, index) {\n      if (React.isValidElement(column)) {\n        var columnChildren = column.props.children;\n        var _column$props = column.props,\n            width = _column$props.width,\n            resizable = _column$props.resizable,\n            flexGrow = _column$props.flexGrow,\n            minWidth = _column$props.minWidth,\n            onResize = _column$props.onResize,\n            treeCol = _column$props.treeCol;\n\n        if (treeCol) {\n          hasCustomTreeCol = true;\n        }\n\n        if (resizable && flexGrow) {\n          console.warn(\"Cannot set 'resizable' and 'flexGrow' together in <Column>, column index: \" + index);\n        }\n\n        if (columnChildren.length !== 2) {\n          throw new Error(\"Component <HeaderCell> and <Cell> is required, column index: \" + index + \" \");\n        }\n\n        var nextWidth = _this2.state[columnChildren[1].props.dataKey + \"_\" + index + \"_width\"] || width || 0;\n\n        if (tableWidth && flexGrow && totalFlexGrow) {\n          nextWidth = Math.max((tableWidth - totalWidth) / totalFlexGrow * flexGrow, minWidth || 60);\n        }\n\n        var cellProps = _extends({}, omit(column.props, ['children']), {\n          left: left,\n          index: index,\n          headerHeight: headerHeight,\n          key: index,\n          width: nextWidth,\n          height: rowHeight,\n          firstColumn: index === 0,\n          lastColumn: index === columns.length - 1\n        });\n\n        if (showHeader && headerHeight) {\n          var headerCellProps = {\n            dataKey: columnChildren[1].props.dataKey,\n            isHeaderCell: true,\n            sortable: column.props.sortable,\n            onSortColumn: _this2.handleSortColumn,\n            sortType: _this2.getSortType(),\n            sortColumn: sortColumn,\n            flexGrow: flexGrow\n          };\n\n          if (resizable) {\n            merge(headerCellProps, {\n              onResize: onResize,\n              onColumnResizeEnd: _this2.handleColumnResizeEnd,\n              onColumnResizeStart: _this2.handleColumnResizeStart,\n              onColumnResizeMove: _this2.handleColumnResizeMove\n            });\n          }\n\n          headerCells.push(React.cloneElement(columnChildren[0], _extends({}, cellProps, {}, headerCellProps)));\n        }\n\n        bodyCells.push(React.cloneElement(columnChildren[1], cellProps));\n        left += nextWidth;\n      }\n    });\n    return this._cacheCells = {\n      headerCells: headerCells,\n      bodyCells: bodyCells,\n      allColumnsWidth: left,\n      hasCustomTreeCol: hasCustomTreeCol\n    };\n  };\n\n  _proto.initPosition = function initPosition() {\n    var _this3 = this;\n\n    if (this.isRTL()) {\n      setTimeout(function () {\n        var _this3$scrollbarXRef, _this3$scrollbarXRef$, _this3$scrollbarXRef$2;\n\n        var _this3$state = _this3.state,\n            contentWidth = _this3$state.contentWidth,\n            width = _this3$state.width;\n        _this3.scrollX = width - contentWidth - SCROLLBAR_WIDTH;\n\n        _this3.updatePosition();\n\n        (_this3$scrollbarXRef = _this3.scrollbarXRef) === null || _this3$scrollbarXRef === void 0 ? void 0 : (_this3$scrollbarXRef$ = _this3$scrollbarXRef.current) === null || _this3$scrollbarXRef$ === void 0 ? void 0 : (_this3$scrollbarXRef$2 = _this3$scrollbarXRef$.resetScrollBarPosition) === null || _this3$scrollbarXRef$2 === void 0 ? void 0 : _this3$scrollbarXRef$2.call(_this3$scrollbarXRef$, -_this3.scrollX);\n      }, 0);\n    }\n  };\n\n  _proto.updatePosition = function updatePosition() {\n    var _this$tableHeaderRef;\n\n    /**\n     * 当存在锁定列情况处理\n     */\n    if (this.state.shouldFixedColumn) {\n      this.updatePositionByFixedCell();\n    } else {\n      var _this$wheelWrapperRef, _this$headerWrapperRe;\n\n      var wheelStyle = {};\n      var headerStyle = {};\n      this.translateDOMPositionXY(wheelStyle, this.scrollX, this.scrollY);\n      this.translateDOMPositionXY(headerStyle, this.scrollX, 0);\n      ((_this$wheelWrapperRef = this.wheelWrapperRef) === null || _this$wheelWrapperRef === void 0 ? void 0 : _this$wheelWrapperRef.current) && addStyle(this.wheelWrapperRef.current, wheelStyle);\n      ((_this$headerWrapperRe = this.headerWrapperRef) === null || _this$headerWrapperRe === void 0 ? void 0 : _this$headerWrapperRe.current) && addStyle(this.headerWrapperRef.current, headerStyle);\n    }\n\n    if ((_this$tableHeaderRef = this.tableHeaderRef) === null || _this$tableHeaderRef === void 0 ? void 0 : _this$tableHeaderRef.current) {\n      toggleClass(this.tableHeaderRef.current, this.addPrefix('cell-group-shadow'), this.scrollY < 0);\n    }\n  };\n\n  _proto.updatePositionByFixedCell = function updatePositionByFixedCell() {\n    var _this$wheelWrapperRef2;\n\n    var wheelGroupStyle = {};\n    var wheelStyle = {};\n    var scrollGroups = this.getScrollCellGroups();\n    var fixedLeftGroups = this.getFixedLeftCellGroups();\n    var fixedRightGroups = this.getFixedRightCellGroups();\n    var _this$state3 = this.state,\n        contentWidth = _this$state3.contentWidth,\n        width = _this$state3.width;\n    this.translateDOMPositionXY(wheelGroupStyle, this.scrollX, 0);\n    this.translateDOMPositionXY(wheelStyle, 0, this.scrollY);\n    var scrollArrayGroups = Array.from(scrollGroups);\n\n    for (var i = 0; i < scrollArrayGroups.length; i++) {\n      var group = scrollArrayGroups[i];\n      addStyle(group, wheelGroupStyle);\n    }\n\n    if ((_this$wheelWrapperRef2 = this.wheelWrapperRef) === null || _this$wheelWrapperRef2 === void 0 ? void 0 : _this$wheelWrapperRef2.current) {\n      addStyle(this.wheelWrapperRef.current, wheelStyle);\n    }\n\n    var leftShadowClassName = this.addPrefix('cell-group-left-shadow');\n    var rightShadowClassName = this.addPrefix('cell-group-right-shadow');\n    var showLeftShadow = this.scrollX < 0;\n    var showRightShadow = width - contentWidth - SCROLLBAR_WIDTH !== this.scrollX;\n    toggleClass(fixedLeftGroups, leftShadowClassName, showLeftShadow);\n    toggleClass(fixedRightGroups, rightShadowClassName, showRightShadow);\n  };\n\n  _proto.shouldRenderExpandedRow = function shouldRenderExpandedRow(rowData) {\n    var _this$props13 = this.props,\n        rowKey = _this$props13.rowKey,\n        renderRowExpanded = _this$props13.renderRowExpanded,\n        isTree = _this$props13.isTree;\n    var expandedRowKeys = this.getExpandedRowKeys() || [];\n    return isFunction(renderRowExpanded) && !isTree && expandedRowKeys.some(function (key) {\n      return key === rowData[rowKey];\n    });\n  };\n\n  _proto.calculateRowMaxHeight = function calculateRowMaxHeight() {\n    var wordWrap = this.props.wordWrap;\n\n    if (wordWrap) {\n      var tableRowsMaxHeight = [];\n      var tableRows = Object.entries(this.tableRows);\n\n      for (var i = 0; i < tableRows.length; i++) {\n        var _tableRows$i = tableRows[i],\n            row = _tableRows$i[1];\n\n        if (row) {\n          var cells = row.querySelectorAll(\".\" + this.addPrefix('cell-wrap')) || [];\n          var cellArray = Array.from(cells);\n          var maxHeight = 0;\n\n          for (var j = 0; j < cellArray.length; j++) {\n            var cell = cellArray[j];\n            var h = getHeight(cell);\n            maxHeight = Math.max(maxHeight, h);\n          }\n\n          tableRowsMaxHeight.push(maxHeight);\n        }\n      }\n\n      this.setState({\n        tableRowsMaxHeight: tableRowsMaxHeight\n      });\n    }\n  };\n\n  _proto.calculateTableContentWidth = function calculateTableContentWidth(prevProps) {\n    var _this$tableRef2;\n\n    var table = (_this$tableRef2 = this.tableRef) === null || _this$tableRef2 === void 0 ? void 0 : _this$tableRef2.current;\n    var row = table.querySelector(\".\" + this.addPrefix('row') + \":not(.virtualized)\");\n    var contentWidth = row ? getWidth(row) : 0;\n    this.setState({\n      contentWidth: contentWidth\n    }); // 这里 -SCROLLBAR_WIDTH 是为了让滚动条不挡住内容部分\n\n    this.minScrollX = -(contentWidth - this.state.width) - SCROLLBAR_WIDTH;\n    /**\n     * 1.判断 Table 列数是否发生变化\n     * 2.判断 Table 内容区域是否宽度有变化\n     *\n     * 满足 1 和 2 则更新横向滚动条位置\n     */\n\n    if (flatten(this.props.children).length !== flatten(prevProps.children).length && this.state.contentWidth !== contentWidth) {\n      this.scrollLeft(0);\n    }\n  };\n\n  _proto.calculateTableContextHeight = function calculateTableContextHeight(prevProps) {\n    var table = this.tableRef.current;\n    var rows = table.querySelectorAll(\".\" + this.addPrefix('row')) || [];\n    var _this$props14 = this.props,\n        height = _this$props14.height,\n        autoHeight = _this$props14.autoHeight,\n        rowHeight = _this$props14.rowHeight;\n    var headerHeight = this.getTableHeaderHeight();\n    var contentHeight = rows.length ? Array.from(rows).map(function (row) {\n      return getHeight(row) || rowHeight;\n    }).reduce(function (x, y) {\n      return x + y;\n    }) : 0;\n    var nextContentHeight = contentHeight - headerHeight;\n    this.setState({\n      contentHeight: nextContentHeight\n    });\n\n    if (prevProps && ( // 当 data 更新，或者表格高度更新，则更新滚动条\n    prevProps.height !== height || prevProps.data !== this.props.data) && this.scrollY !== 0) {\n      this.scrollTop(Math.abs(this.scrollY));\n      this.updatePosition();\n    }\n\n    if (!autoHeight) {\n      // 这里 -SCROLLBAR_WIDTH 是为了让滚动条不挡住内容部分\n      this.minScrollY = -(contentHeight - height) - SCROLLBAR_WIDTH;\n    } // 如果内容区域的高度小于表格的高度，则重置 Y 坐标滚动条\n\n\n    if (contentHeight < height) {\n      this.scrollTop(0);\n    } // 如果 scrollTop 的值大于可以滚动的范围 ，则重置 Y 坐标滚动条\n    // 当 Table 为 virtualized 时， wheel 事件触发每次都会进入该逻辑， 避免在滚动到底部后滚动条重置, +SCROLLBAR_WIDTH\n\n\n    if (Math.abs(this.scrollY) + height - headerHeight > nextContentHeight + SCROLLBAR_WIDTH) {\n      this.scrollTop(this.scrollY);\n    }\n  };\n\n  _proto.scrollTopToScrollValue = function scrollTopToScrollValue(value) {\n    if (this.props.autoHeight) {\n      return 0;\n    }\n\n    var contentHeight = this.state.contentHeight;\n    var headerHeight = this.getTableHeaderHeight();\n    var height = this.getTableHeight();\n    return value / contentHeight * (height - headerHeight);\n  };\n\n  _proto.scrollLeftToScrollValue = function scrollLeftToScrollValue(value) {\n    var _this$state4 = this.state,\n        contentWidth = _this$state4.contentWidth,\n        width = _this$state4.width;\n    return value / contentWidth * width;\n  }\n  /**\n   * public method\n   * top 值是表格理论滚动位置的一个值，通过 top 计算出 scrollY 坐标值与滚动条位置的值\n   */\n  ;\n\n  _proto.renderRowData = function renderRowData(bodyCells, rowData, props, shouldRenderExpandedRow) {\n    var _this$props15 = this.props,\n        renderTreeToggle = _this$props15.renderTreeToggle,\n        rowKey = _this$props15.rowKey,\n        wordWrap = _this$props15.wordWrap,\n        isTree = _this$props15.isTree;\n    var hasChildren = isTree && rowData.children && Array.isArray(rowData.children);\n    var nextRowKey = typeof rowData[rowKey] !== 'undefined' ? rowData[rowKey] : props.key;\n\n    var rowProps = _extends({}, props, {\n      rowRef: this.bindTableRowsRef(props.key),\n      onClick: this.bindRowClick(rowData)\n    });\n\n    var expandedRowKeys = this.getExpandedRowKeys() || [];\n    var expanded = expandedRowKeys.some(function (key) {\n      return key === rowData[rowKey];\n    });\n    var cells = [];\n\n    for (var i = 0; i < bodyCells.length; i++) {\n      var cell = bodyCells[i];\n      cells.push(React.cloneElement(cell, {\n        hasChildren: hasChildren,\n        rowData: rowData,\n        wordWrap: wordWrap,\n        renderTreeToggle: renderTreeToggle,\n        height: props.height,\n        rowIndex: props.key,\n        depth: props.depth,\n        onTreeToggle: this.handleTreeToggle,\n        rowKey: nextRowKey,\n        expanded: expanded\n      }));\n    }\n\n    return this.renderRow(rowProps, cells, shouldRenderExpandedRow, rowData);\n  };\n\n  _proto.renderRow = function renderRow(props, cells, shouldRenderExpandedRow, rowData) {\n    var rowClassName = this.props.rowClassName;\n    var _this$state5 = this.state,\n        shouldFixedColumn = _this$state5.shouldFixedColumn,\n        width = _this$state5.width,\n        contentWidth = _this$state5.contentWidth;\n\n    if (typeof rowClassName === 'function') {\n      props.className = rowClassName(rowData);\n    } else {\n      props.className = rowClassName;\n    }\n\n    var rowStyles = {};\n    var rowRight = 0;\n\n    if (this.isRTL() && contentWidth > width) {\n      rowRight = width - contentWidth;\n      rowStyles.right = rowRight;\n    } // IF there are fixed columns, add a fixed group\n\n\n    if (shouldFixedColumn && contentWidth > width) {\n      var fixedLeftCells = [];\n      var fixedRightCells = [];\n      var scrollCells = [];\n      var fixedLeftCellGroupWidth = 0;\n      var fixedRightCellGroupWidth = 0;\n\n      for (var i = 0; i < cells.length; i++) {\n        var cell = cells[i];\n        var _cell$props = cell.props,\n            fixed = _cell$props.fixed,\n            _width2 = _cell$props.width;\n        var isFixedStart = fixed === 'left' || fixed === true;\n        var isFixedEnd = fixed === 'right';\n\n        if (this.isRTL()) {\n          isFixedStart = fixed === 'right';\n          isFixedEnd = fixed === 'left' || fixed === true;\n        }\n\n        if (isFixedStart) {\n          fixedLeftCells.push(cell);\n          fixedLeftCellGroupWidth += _width2;\n        } else if (isFixedEnd) {\n          fixedRightCells.push(cell);\n          fixedRightCellGroupWidth += _width2;\n        } else {\n          scrollCells.push(cell);\n        }\n      }\n\n      return React.createElement(Row, _extends({}, props, {\n        style: rowStyles\n      }), fixedLeftCellGroupWidth ? React.createElement(CellGroup, {\n        fixed: \"left\",\n        height: props.isHeaderRow ? props.headerHeight : props.height,\n        width: fixedLeftCellGroupWidth,\n        style: this.isRTL() ? {\n          right: width - fixedLeftCellGroupWidth - rowRight\n        } : null\n      }, colSpanCells(resetLeftForCells(fixedLeftCells))) : null, React.createElement(CellGroup, null, colSpanCells(scrollCells)), fixedRightCellGroupWidth ? React.createElement(CellGroup, {\n        fixed: \"right\",\n        style: this.isRTL() ? {\n          right: 0 - rowRight - SCROLLBAR_WIDTH\n        } : {\n          left: width - fixedRightCellGroupWidth - SCROLLBAR_WIDTH\n        },\n        height: props.isHeaderRow ? props.headerHeight : props.height,\n        width: fixedRightCellGroupWidth\n      }, colSpanCells(resetLeftForCells(fixedRightCells))) : null, shouldRenderExpandedRow && this.renderRowExpanded(rowData));\n    }\n\n    return React.createElement(Row, _extends({}, props, {\n      style: rowStyles\n    }), React.createElement(CellGroup, null, colSpanCells(cells)), shouldRenderExpandedRow && this.renderRowExpanded(rowData));\n  };\n\n  _proto.renderRowExpanded = function renderRowExpanded(rowData) {\n    var _this$props16 = this.props,\n        renderRowExpanded = _this$props16.renderRowExpanded,\n        rowExpandedHeight = _this$props16.rowExpandedHeight;\n    var styles = {\n      height: rowExpandedHeight\n    };\n\n    if (typeof renderRowExpanded === 'function') {\n      return React.createElement(\"div\", {\n        className: this.addPrefix('row-expanded'),\n        style: styles\n      }, renderRowExpanded(rowData));\n    }\n\n    return null;\n  };\n\n  _proto.renderMouseArea = function renderMouseArea() {\n    var headerHeight = this.getTableHeaderHeight();\n    var styles = {\n      height: this.getTableHeight()\n    };\n    var spanStyles = {\n      height: headerHeight - 1\n    };\n    return React.createElement(\"div\", {\n      ref: this.mouseAreaRef,\n      className: this.addPrefix('mouse-area'),\n      style: styles\n    }, React.createElement(\"span\", {\n      style: spanStyles\n    }));\n  };\n\n  _proto.renderTableHeader = function renderTableHeader(headerCells, rowWidth) {\n    var affixHeader = this.props.affixHeader;\n    var tableWidth = this.state.width;\n    var top = typeof affixHeader === 'number' ? affixHeader : 0;\n    var headerHeight = this.getTableHeaderHeight();\n    var rowProps = {\n      rowRef: this.tableHeaderRef,\n      width: rowWidth,\n      height: this.getRowHeight(),\n      headerHeight: headerHeight,\n      isHeaderRow: true,\n      top: 0\n    };\n    var fixedStyle = {\n      position: 'fixed',\n      overflow: 'hidden',\n      height: this.getTableHeaderHeight(),\n      width: tableWidth,\n      top: top\n    }; // Affix header\n\n    var header = React.createElement(\"div\", {\n      className: classNames(this.addPrefix('affix-header')),\n      style: fixedStyle,\n      ref: this.affixHeaderWrapperRef\n    }, this.renderRow(rowProps, headerCells));\n    return React.createElement(React.Fragment, null, (affixHeader === 0 || affixHeader) && header, React.createElement(\"div\", {\n      className: this.addPrefix('header-row-wrapper'),\n      ref: this.headerWrapperRef\n    }, this.renderRow(rowProps, headerCells)));\n  };\n\n  _proto.renderTableBody = function renderTableBody(bodyCells, rowWidth) {\n    var _this$props17 = this.props,\n        rowExpandedHeight = _this$props17.rowExpandedHeight,\n        renderRowExpanded = _this$props17.renderRowExpanded,\n        isTree = _this$props17.isTree,\n        rowKey = _this$props17.rowKey,\n        wordWrap = _this$props17.wordWrap,\n        virtualized = _this$props17.virtualized,\n        rowHeight = _this$props17.rowHeight;\n    var headerHeight = this.getTableHeaderHeight();\n    var _this$state6 = this.state,\n        tableRowsMaxHeight = _this$state6.tableRowsMaxHeight,\n        isScrolling = _this$state6.isScrolling,\n        data = _this$state6.data;\n    var height = this.getTableHeight();\n    var bodyHeight = height - headerHeight;\n    var bodyStyles = {\n      top: headerHeight,\n      height: bodyHeight\n    };\n    var contentHeight = 0;\n    var topHideHeight = 0;\n    var bottomHideHeight = 0;\n    this._visibleRows = [];\n\n    if (data) {\n      var top = 0; // Row position\n\n      var minTop = Math.abs(this.scrollY);\n      var maxTop = minTop + height + rowExpandedHeight;\n      var isCustomRowHeight = typeof rowHeight === 'function';\n      var isUncertainHeight = !!(renderRowExpanded || isCustomRowHeight || isTree);\n      /**\n      如果开启了 virtualized  同时 Table 中的的行高是可变的，\n      则需要循环遍历 data, 获取每一行的高度。\n      */\n\n      if (isUncertainHeight && virtualized || !virtualized) {\n        for (var index = 0; index < data.length; index++) {\n          var rowData = data[index];\n          var maxHeight = tableRowsMaxHeight[index];\n          var shouldRenderExpandedRow = this.shouldRenderExpandedRow(rowData);\n          var nextRowHeight = 0;\n          var depth = 0;\n\n          if (typeof rowHeight === 'function') {\n            nextRowHeight = rowHeight(rowData);\n          } else {\n            nextRowHeight = maxHeight ? maxHeight + CELL_PADDING_HEIGHT : rowHeight;\n\n            if (shouldRenderExpandedRow) {\n              nextRowHeight += rowExpandedHeight;\n            }\n          }\n\n          if (isTree) {\n            var parents = findAllParents(rowData, rowKey);\n            var expandedRowKeys = this.getExpandedRowKeys();\n            depth = parents.length; // 树节点如果被关闭，则不渲染\n\n            if (!shouldShowRowByExpanded(expandedRowKeys, parents)) {\n              continue;\n            }\n          }\n\n          contentHeight += nextRowHeight;\n          var rowProps = {\n            key: index,\n            top: top,\n            width: rowWidth,\n            depth: depth,\n            height: nextRowHeight\n          };\n          top += nextRowHeight;\n\n          if (virtualized && !wordWrap) {\n            if (top + nextRowHeight < minTop) {\n              topHideHeight += nextRowHeight;\n              continue;\n            } else if (top > maxTop) {\n              bottomHideHeight += nextRowHeight;\n              continue;\n            }\n          }\n\n          this._visibleRows.push(this.renderRowData(bodyCells, rowData, rowProps, shouldRenderExpandedRow));\n        }\n      } else {\n        /**\n        如果 Table 的行高是固定的，则直接通过行高与行数进行计算，\n        减少遍历所有 data 带来的性能消耗\n        */\n        var _nextRowHeight = this.getRowHeight();\n\n        var startIndex = Math.max(Math.floor(minTop / _nextRowHeight), 0);\n        var endIndex = Math.min(startIndex + Math.ceil(bodyHeight / _nextRowHeight), data.length);\n        contentHeight = data.length * _nextRowHeight;\n        topHideHeight = startIndex * _nextRowHeight;\n        bottomHideHeight = (data.length - endIndex) * _nextRowHeight;\n\n        for (var _index = startIndex; _index < endIndex; _index++) {\n          var _rowData = data[_index];\n          var _rowProps = {\n            key: _index,\n            top: _index * _nextRowHeight,\n            width: rowWidth,\n            height: _nextRowHeight\n          };\n\n          this._visibleRows.push(this.renderRowData(bodyCells, _rowData, _rowProps, false));\n        }\n      }\n    }\n\n    var wheelStyles = {\n      position: 'absolute',\n      height: contentHeight,\n      minHeight: height,\n      pointerEvents: isScrolling ? 'none' : undefined\n    };\n    var topRowStyles = {\n      height: topHideHeight\n    };\n    var bottomRowStyles = {\n      height: bottomHideHeight\n    };\n    return React.createElement(\"div\", {\n      ref: this.tableBodyRef,\n      className: this.addPrefix('body-row-wrapper'),\n      style: bodyStyles,\n      onScroll: this.handleBodyScroll\n    }, React.createElement(\"div\", {\n      style: wheelStyles,\n      className: this.addPrefix('body-wheel-area'),\n      ref: this.wheelWrapperRef\n    }, topHideHeight ? React.createElement(Row, {\n      style: topRowStyles,\n      className: \"virtualized\"\n    }) : null, this._visibleRows, bottomHideHeight ? React.createElement(Row, {\n      style: bottomRowStyles,\n      className: \"virtualized\"\n    }) : null), this.renderInfo(), this.renderScrollbar(), this.renderLoading());\n  };\n\n  _proto.renderInfo = function renderInfo() {\n    var _this$props18 = this.props,\n        locale = _this$props18.locale,\n        renderEmpty = _this$props18.renderEmpty,\n        loading = _this$props18.loading;\n\n    if (this._visibleRows.length || loading) {\n      return null;\n    }\n\n    var emptyMessage = React.createElement(\"div\", {\n      className: this.addPrefix('body-info')\n    }, locale.emptyMessage);\n    return renderEmpty ? renderEmpty(emptyMessage) : emptyMessage;\n  };\n\n  _proto.renderScrollbar = function renderScrollbar() {\n    var disabledScroll = this.props.disabledScroll;\n    var _this$state7 = this.state,\n        contentWidth = _this$state7.contentWidth,\n        contentHeight = _this$state7.contentHeight;\n    var headerHeight = this.getTableHeaderHeight();\n    var height = this.getTableHeight();\n\n    if (disabledScroll) {\n      return null;\n    }\n\n    return React.createElement(\"div\", null, React.createElement(Scrollbar, {\n      length: this.state.width,\n      onScroll: this.handleScrollX,\n      scrollLength: contentWidth,\n      ref: this.scrollbarXRef\n    }), React.createElement(Scrollbar, {\n      vertical: true,\n      length: height - headerHeight,\n      scrollLength: contentHeight,\n      onScroll: this.handleScrollY,\n      ref: this.scrollbarYRef\n    }));\n  }\n  /**\n   *  show loading\n   */\n  ;\n\n  _proto.renderLoading = function renderLoading() {\n    var _this$props19 = this.props,\n        locale = _this$props19.locale,\n        loading = _this$props19.loading,\n        loadAnimation = _this$props19.loadAnimation,\n        renderLoading = _this$props19.renderLoading;\n\n    if (!loadAnimation && !loading) {\n      return null;\n    }\n\n    var loadingElement = React.createElement(\"div\", {\n      className: this.addPrefix('loader-wrapper')\n    }, React.createElement(\"div\", {\n      className: this.addPrefix('loader')\n    }, React.createElement(\"i\", {\n      className: this.addPrefix('loader-icon')\n    }), React.createElement(\"span\", {\n      className: this.addPrefix('loader-text')\n    }, locale.loading)));\n    return renderLoading ? renderLoading(loadingElement) : loadingElement;\n  };\n\n  _proto.render = function render() {\n    var _classNames;\n\n    var _this$props20 = this.props,\n        children = _this$props20.children,\n        className = _this$props20.className,\n        _this$props20$width = _this$props20.width,\n        width = _this$props20$width === void 0 ? 0 : _this$props20$width,\n        style = _this$props20.style,\n        isTree = _this$props20.isTree,\n        hover = _this$props20.hover,\n        bordered = _this$props20.bordered,\n        cellBordered = _this$props20.cellBordered,\n        wordWrap = _this$props20.wordWrap,\n        classPrefix = _this$props20.classPrefix,\n        loading = _this$props20.loading,\n        showHeader = _this$props20.showHeader,\n        rest = _objectWithoutPropertiesLoose(_this$props20, [\"children\", \"className\", \"width\", \"style\", \"isTree\", \"hover\", \"bordered\", \"cellBordered\", \"wordWrap\", \"classPrefix\", \"loading\", \"showHeader\"]);\n\n    var isColumnResizing = this.state.isColumnResizing;\n\n    var _this$getCellDescript = this.getCellDescriptor(),\n        headerCells = _this$getCellDescript.headerCells,\n        bodyCells = _this$getCellDescript.bodyCells,\n        allColumnsWidth = _this$getCellDescript.allColumnsWidth,\n        hasCustomTreeCol = _this$getCellDescript.hasCustomTreeCol;\n\n    var rowWidth = allColumnsWidth > width ? allColumnsWidth : width;\n    var clesses = classNames(classPrefix, className, (_classNames = {}, _classNames[this.addPrefix('word-wrap')] = wordWrap, _classNames[this.addPrefix('treetable')] = isTree, _classNames[this.addPrefix('bordered')] = bordered, _classNames[this.addPrefix('cell-bordered')] = cellBordered, _classNames[this.addPrefix('column-resizing')] = isColumnResizing, _classNames[this.addPrefix('hover')] = hover, _classNames[this.addPrefix('loading')] = loading, _classNames));\n\n    var styles = _extends({\n      width: width || 'auto',\n      height: this.getTableHeight()\n    }, style);\n\n    var unhandled = getUnhandledProps(Table, rest);\n    return React.createElement(TableContext.Provider, {\n      value: {\n        translateDOMPositionXY: this.translateDOMPositionXY,\n        rtl: this.isRTL(),\n        hasCustomTreeCol: hasCustomTreeCol\n      }\n    }, React.createElement(\"div\", _extends({}, unhandled, {\n      className: clesses,\n      style: styles,\n      ref: this.tableRef\n    }), showHeader && this.renderTableHeader(headerCells, rowWidth), children && this.renderTableBody(bodyCells, rowWidth), showHeader && this.renderMouseArea()));\n  };\n\n  return Table;\n}(React.Component);\n\nTable.propTypes = {\n  width: PropTypes.number,\n  data: PropTypes.arrayOf(PropTypes.object),\n  height: PropTypes.number,\n  autoHeight: PropTypes.bool,\n  minHeight: PropTypes.number,\n  rowHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n  headerHeight: PropTypes.number,\n  rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  isTree: PropTypes.bool,\n  defaultExpandAllRows: PropTypes.bool,\n  defaultExpandedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n  expandedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n  renderTreeToggle: PropTypes.func,\n  renderRowExpanded: PropTypes.func,\n  rowExpandedHeight: PropTypes.number,\n  locale: PropTypes.object,\n  style: PropTypes.object,\n  sortColumn: PropTypes.string,\n  sortType: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  defaultSortType: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  disabledScroll: PropTypes.bool,\n  hover: PropTypes.bool,\n  loading: PropTypes.bool,\n  className: PropTypes.string,\n  classPrefix: PropTypes.string,\n  children: PropTypes.any,\n  bordered: PropTypes.bool,\n  cellBordered: PropTypes.bool,\n  wordWrap: PropTypes.bool,\n  onRowClick: PropTypes.func,\n  onScroll: PropTypes.func,\n  onSortColumn: PropTypes.func,\n  onExpandChange: PropTypes.func,\n  onTouchStart: PropTypes.func,\n  onTouchMove: PropTypes.func,\n  bodyRef: PropTypes.func,\n  loadAnimation: PropTypes.bool,\n  showHeader: PropTypes.bool,\n  rowClassName: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  virtualized: PropTypes.bool,\n  renderEmpty: PropTypes.func,\n  renderLoading: PropTypes.func,\n  translate3d: PropTypes.bool,\n  affixHeader: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n  rtl: PropTypes.bool\n};\nTable.defaultProps = {\n  classPrefix: defaultClassPrefix('table'),\n  data: [],\n  defaultSortType: SORT_TYPE.DESC,\n  height: 200,\n  rowHeight: 46,\n  headerHeight: 40,\n  minHeight: 0,\n  rowExpandedHeight: 100,\n  hover: true,\n  showHeader: true,\n  rowKey: 'key',\n  translate3d: true,\n  locale: {\n    emptyMessage: 'No data found',\n    loading: 'Loading...'\n  }\n};\nexport default Table;"]},"metadata":{},"sourceType":"module"}