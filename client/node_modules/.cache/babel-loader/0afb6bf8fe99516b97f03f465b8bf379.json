{"ast":null,"code":"import _objectSpread from\"/Users/rafaelbollit/Desktop/proyecto 3/e-prostats/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/Users/rafaelbollit/Desktop/proyecto 3/e-prostats/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/rafaelbollit/Desktop/proyecto 3/e-prostats/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/rafaelbollit/Desktop/proyecto 3/e-prostats/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/rafaelbollit/Desktop/proyecto 3/e-prostats/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/rafaelbollit/Desktop/proyecto 3/e-prostats/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/rafaelbollit/Desktop/proyecto 3/e-prostats/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import Container from'react-bootstrap/Container';import AuthServices from'../../../../services/auth.services';import FilesServices from'../../../../services/files.services';var Signup=/*#__PURE__*/function(_Component){_inherits(Signup,_Component);function Signup(props){var _this;_classCallCheck(this,Signup);_this=_possibleConstructorReturn(this,_getPrototypeOf(Signup).call(this,props));_this.handleChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(_defineProperty({},name,value));};_this.postUser=function(){_this.services.signup(_this.state).then(function(theLoggedNewUser){_this.setState({username:'',password:''});_this.props.setTheUser(theLoggedNewUser);_this.props.history.push('/profile');}).catch(function(err){return console.log({err:err});});};_this.handleSubmit=function(e){e.preventDefault();_this.postUser();};_this.handleFileUpload=function(e){var uploadData=new FormData();uploadData.append(\"imageUrl\",e.target.files[0]);_this.filesServices.handleUpload(uploadData).then(function(response){_this.setState({state:_objectSpread({},_this.state,{imageUrl:response.secure_url})});}).catch(function(err){return console.log(err);});};_this.filesServices=new FilesServices();_this.state={username:'',password:'',imageUrl:String};_this.services=new AuthServices();return _this;}_createClass(Signup,[{key:\"render\",value:function render(){return React.createElement(Container,null,React.createElement(\"h1\",null,\"Registro de usuarios\"),React.createElement(Form,{onSubmit:this.handleSubmit},React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Usuario\"),React.createElement(Form.Control,{type:\"text\",name:\"username\",value:this.state.username,onChange:this.handleChange})),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Contrase\\xF1a\"),React.createElement(Form.Control,{type:\"password\",name:\"password\",value:this.state.password,onChange:this.handleChange})),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Imagen\"),React.createElement(Form.Control,{type:\"file\",name:\"imageUrl\",onChange:this.handleFileUpload})),React.createElement(Button,{variant:\"dark\",type:\"submit\",onSubmit:this.handleSubmit},\"Registrarse\")));}}]);return Signup;}(Component);export default Signup;","map":{"version":3,"sources":["/Users/rafaelbollit/Desktop/proyecto 3/e-prostats/client/src/components/pages/auth/signup/Signup.js"],"names":["React","Component","Form","Button","Container","AuthServices","FilesServices","Signup","props","handleChange","e","target","name","value","setState","postUser","services","signup","state","then","theLoggedNewUser","username","password","setTheUser","history","push","catch","err","console","log","handleSubmit","preventDefault","handleFileUpload","uploadData","FormData","append","files","filesServices","handleUpload","response","imageUrl","secure_url","String"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport Container from 'react-bootstrap/Container'\n\nimport AuthServices from '../../../../services/auth.services'\nimport FilesServices from '../../../../services/files.services'\nclass Signup extends Component {\n\n    constructor(props) {\n        super(props)\n        this.filesServices = new FilesServices()\n        this.state = {\n            username: '',\n            password: '',\n            imageUrl: String,\n        }\n        this.services = new AuthServices()\n    }\n\n\n    handleChange = e => {\n        let { name, value } = e.target\n        this.setState({ [name]: value })\n    }\n\n    postUser = () => {\n        this.services.signup(this.state)\n            .then(theLoggedNewUser => {\n                this.setState({ username: '', password: '' })\n                this.props.setTheUser(theLoggedNewUser)\n\n                this.props.history.push('/profile')\n            })\n            .catch(err => console.log({ err }))\n    }\n\n    handleSubmit = e => {\n        e.preventDefault()\n        this.postUser()\n    }\n    handleFileUpload = e => {\n        const uploadData = new FormData()\n        uploadData.append(\"imageUrl\", e.target.files[0])\n        this.filesServices.handleUpload(uploadData)\n            .then(response => {\n                this.setState({\n                    state: { ...this.state, imageUrl: response.secure_url }\n                })\n            })\n            .catch(err => console.log(err))\n    }\n\n\n    render() {\n\n        return (\n\n            <Container>\n\n                <h1>Registro de usuarios</h1>\n\n                <Form onSubmit={this.handleSubmit}>\n                    <Form.Group>\n                        <Form.Label>Usuario</Form.Label>\n                        <Form.Control type=\"text\" name=\"username\" value={this.state.username} onChange={this.handleChange} />\n                    </Form.Group>\n                    <Form.Group>\n                        <Form.Label>Contrase√±a</Form.Label>\n                        <Form.Control type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleChange} />\n                    </Form.Group>\n                    <Form.Group>\n                        <Form.Label>Imagen</Form.Label>\n                        <Form.Control type=\"file\" name=\"imageUrl\" onChange={this.handleFileUpload} />\n                    </Form.Group>\n\n                    <Button variant=\"dark\" type=\"submit\" onSubmit={this.handleSubmit}>Registrarse</Button>\n                </Form>\n            </Container>\n\n        )\n    }\n}\n\nexport default Signup"]},"metadata":{},"sourceType":"module"}