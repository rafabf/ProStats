{"ast":null,"code":"import _defineProperty from\"/Users/rafaelbollit/Desktop/proyecto 3/e-prostats/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/rafaelbollit/Desktop/proyecto 3/e-prostats/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/rafaelbollit/Desktop/proyecto 3/e-prostats/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/rafaelbollit/Desktop/proyecto 3/e-prostats/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/rafaelbollit/Desktop/proyecto 3/e-prostats/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/rafaelbollit/Desktop/proyecto 3/e-prostats/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/rafaelbollit/Desktop/proyecto 3/e-prostats/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import teamServices from'../../../services/team.services';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';// import router from '../../../../../server/routes/team.routes'\nimport FilesServices from'../../../services/files.services';var TeamForm=/*#__PURE__*/function(_Component){_inherits(TeamForm,_Component);function TeamForm(props){var _this;_classCallCheck(this,TeamForm);_this=_possibleConstructorReturn(this,_getPrototypeOf(TeamForm).call(this,props));_this.finishAction=function(){_this.props.closeModal();_this.props.refreshList();};_this.postTeam=function(){_this.teamServices.postTeam(_this.state.team).then(function(){return _this.finishAction();}).catch(function(err){return console.log(err);});};_this.handleChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState({team:_objectSpread({},_this.state.team,_defineProperty({},name,value))});};_this.handleSubmit=function(e){e.preventDefault();_this.postTeam();};_this.handleFileUpload=function(e){var uploadData=new FormData();uploadData.append(\"imageUrl\",e.target.files[0]);_this.filesServices.handleUpload(uploadData).then(function(response){console.log('Subida de archivo finalizada! La URL de Cloudinray es: ',response.secure_url);_this.setState({team:_objectSpread({},_this.state.team,{imageUrl:response.secure_url})});}).catch(function(err){return console.log(err);});};_this.teamServices=new teamServices();_this.filesServices=new FilesServices();_this.state={team:{name:String,history:String,imageUrl:String}};return _this;}_createClass(TeamForm,[{key:\"render\",value:function render(){return React.createElement(Form,{onSubmit:this.handleSubmit},React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Nombre\"),React.createElement(Form.Control,{type:\"text\",name:\"name\",value:this.state.team.name,onChange:this.handleChange})),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Historia\"),React.createElement(Form.Control,{type:\"text\",name:\"history\",value:this.state.team.history,onChange:this.handleChange})),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Imagen\"),React.createElement(Form.Control,{type:\"file\",name:\"imageUrl\",onChange:this.handleFileUpload})),React.createElement(Button,{variant:\"dark\",type:\"submit\"},\"A\\xF1adir equipo\"));}}]);return TeamForm;}(Component);export default TeamForm;","map":{"version":3,"sources":["/Users/rafaelbollit/Desktop/proyecto 3/e-prostats/client/src/components/pages/teamForm/TeamForm.js"],"names":["React","Component","teamServices","Form","Button","FilesServices","TeamForm","props","finishAction","closeModal","refreshList","postTeam","state","team","then","catch","err","console","log","handleChange","e","target","name","value","setState","handleSubmit","preventDefault","handleFileUpload","uploadData","FormData","append","files","filesServices","handleUpload","response","secure_url","imageUrl","String","history"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport teamServices from '../../../services/team.services'\n\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\n// import router from '../../../../../server/routes/team.routes'\nimport FilesServices from '../../../services/files.services'\n\nclass TeamForm extends Component {\n\n    constructor(props) {\n        super(props)\n        this.teamServices = new teamServices()\n        this.filesServices = new FilesServices()\n        this.state = {\n            team: {\n                name: String,\n                history: String,\n                imageUrl: String\n            }\n        }\n    }\n\n    finishAction = () => {\n        this.props.closeModal()\n        this.props.refreshList()\n    }\n\n    postTeam = () => {\n        this.teamServices.postTeam(this.state.team)\n            .then(() => this.finishAction())\n            .catch(err => console.log(err))\n    }\n\n\n    handleChange = e => {\n        let { name, value } = e.target\n        this.setState({\n            team: { ...this.state.team, [name]: value }\n        })\n    }\n\n    handleSubmit = e => {\n        e.preventDefault()\n        this.postTeam()\n    }\n\n    handleFileUpload = e => {\n        const uploadData = new FormData()\n        uploadData.append(\"imageUrl\", e.target.files[0])\n        this.filesServices.handleUpload(uploadData)\n            .then(response => {\n                console.log('Subida de archivo finalizada! La URL de Cloudinray es: ', response.secure_url)\n                this.setState({\n                    team: { ...this.state.team, imageUrl: response.secure_url }\n                })\n            })\n            .catch(err => console.log(err))\n    }\n\n    render() {\n\n        return (\n            <Form onSubmit={this.handleSubmit}>\n                <Form.Group>\n                    <Form.Label>Nombre</Form.Label>\n                    <Form.Control type=\"text\" name=\"name\" value={this.state.team.name} onChange={this.handleChange} />\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>Historia</Form.Label>\n                    <Form.Control type=\"text\" name=\"history\" value={this.state.team.history} onChange={this.handleChange} />\n                </Form.Group>\n\n                <Form.Group>\n                    <Form.Label>Imagen</Form.Label>\n                    <Form.Control type=\"file\" name=\"imageUrl\" onChange={this.handleFileUpload} />\n\n                </Form.Group>\n\n                <Button variant=\"dark\" type=\"submit\">AÃ±adir equipo</Button>\n            </Form>\n        )\n    }\n}\n\nexport default TeamForm"]},"metadata":{},"sourceType":"module"}